<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="zh-cn" http-equiv="content-language"/>
<meta content="22 大数据平台设计：如何用数据为用户创造价值？" name="description"/>
<link href="/static/favicon.png" rel="icon"/>
<title>22 大数据平台设计：如何用数据为用户创造价值？ </title>
<link href="/static/index.css" rel="stylesheet"/>
<link href="/static/highlight.min.css" rel="stylesheet"/>
<script src="/static/highlight.min.js"></script>
<meta content="Hexo 4.2.0" name="generator"/>
<script data-website-id="83e5d5db-9d06-40e3-b780-cbae722fdf8c" defer="" src="https://umami.lianglianglee.com/script.js"></script>
</head>
<body>
<div class="book-container">
<div class="book-sidebar">
<div class="book-brand">
<a href="/">
<img src="/static/favicon.png"/>
<span>技术文章摘抄</span>
</a>
</div>
<div class="book-menu uncollapsible">
<ul class="uncollapsible">
<li><a class="current-tab" href="/">首页</a></li>
<li><a href="../">上一级</a></li>
</ul>
<ul class="uncollapsible">
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/00%20%e5%bc%80%e7%af%87%e8%af%8d%20%e2%80%9c%e9%99%84%e8%ba%ab%e2%80%9d%e5%a4%a7%e5%8e%82%e6%9e%b6%e6%9e%84%e5%b8%88%ef%bc%8c%e8%ba%ab%e4%b8%b4%e5%85%b6%e5%a2%83%e8%ae%be%e8%ae%a1%e9%ab%98%e5%b9%b6%e5%8f%91%e7%b3%bb%e7%bb%9f.md.html" id="00 开篇词 “附身”大厂架构师，身临其境设计高并发系统.md.html">00 开篇词 “附身”大厂架构师，身临其境设计高并发系统.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/01%20%e8%bd%af%e4%bb%b6%e5%bb%ba%e6%a8%a1%e4%b8%8e%e6%96%87%e6%a1%a3%ef%bc%9a%e6%9e%b6%e6%9e%84%e5%b8%88%e6%80%8e%e6%a0%b7%e7%bb%98%e5%88%b6%e7%b3%bb%e7%bb%9f%e6%9e%b6%e6%9e%84%e8%93%9d%e5%9b%be%ef%bc%9f.md.html" id="01 软件建模与文档：架构师怎样绘制系统架构蓝图？.md.html">01 软件建模与文档：架构师怎样绘制系统架构蓝图？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/02%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1%e6%96%b9%e6%b3%95%ef%bc%9a%e9%9d%a2%e5%af%b9%e9%ab%98%e5%b9%b6%e5%8f%91%ef%bc%8c%e6%80%8e%e4%b9%88%e5%af%b9%e7%97%87%e4%b8%8b%e8%8d%af%ef%bc%9f.md.html" id="02 高并发架构设计方法：面对高并发，怎么对症下药？.md.html">02 高并发架构设计方法：面对高并发，怎么对症下药？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/03%20%e7%9f%ad%20URL%20%e7%94%9f%e6%88%90%e5%99%a8%e8%ae%be%e8%ae%a1%ef%bc%9a%e7%99%be%e4%ba%bf%e7%9f%ad%20URL%20%e6%80%8e%e6%a0%b7%e5%81%9a%e5%88%b0%e6%97%a0%e5%86%b2%e7%aa%81%ef%bc%9f.md.html" id="03 短 URL 生成器设计：百亿短 URL 怎样做到无冲突？.md.html">03 短 URL 生成器设计：百亿短 URL 怎样做到无冲突？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/04%20%e7%bd%91%e9%a1%b5%e7%88%ac%e8%99%ab%e8%ae%be%e8%ae%a1%ef%bc%9a%e5%a6%82%e4%bd%95%e4%b8%8b%e8%bd%bd%e5%8d%83%e4%ba%bf%e7%ba%a7%e7%bd%91%e9%a1%b5%ef%bc%9f.md.html" id="04 网页爬虫设计：如何下载千亿级网页？.md.html">04 网页爬虫设计：如何下载千亿级网页？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/05%20%e7%bd%91%e7%9b%98%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9a%e4%b8%87%e4%ba%bf%20GB%20%e7%bd%91%e7%9b%98%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e7%a7%92%e4%bc%a0%e4%b8%8e%e9%99%90%e9%80%9f%ef%bc%9f.md.html" id="05 网盘系统设计：万亿 GB 网盘如何实现秒传与限速？.md.html">05 网盘系统设计：万亿 GB 网盘如何实现秒传与限速？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/06%20%e7%9f%ad%e8%a7%86%e9%a2%91%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9a%e5%a6%82%e4%bd%95%e6%94%af%e6%8c%81%e4%b8%89%e5%8d%83%e4%b8%87%e7%94%a8%e6%88%b7%e5%90%8c%e6%97%b6%e5%9c%a8%e7%ba%bf%e7%9c%8b%e8%a7%86%e9%a2%91%ef%bc%9f.md.html" id="06 短视频系统设计：如何支持三千万用户同时在线看视频？.md.html">06 短视频系统设计：如何支持三千万用户同时在线看视频？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/07%20%e6%b5%b7%e9%87%8f%e6%95%b0%e6%8d%ae%e5%a4%84%e7%90%86%e6%8a%80%e6%9c%af%e5%9b%9e%e9%a1%be%ef%bc%9a%e4%b8%ba%e4%bb%80%e4%b9%88%e5%88%86%e5%b8%83%e5%bc%8f%e4%bc%9a%e9%81%87%e5%88%b0%20CAP%20%e9%9a%be%e9%a2%98%ef%bc%9f.md.html" id="07 海量数据处理技术回顾：为什么分布式会遇到 CAP 难题？.md.html">07 海量数据处理技术回顾：为什么分布式会遇到 CAP 难题？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/08%20%e7%a7%92%e6%9d%80%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9a%e4%bd%a0%e7%9a%84%e7%b3%bb%e7%bb%9f%e5%8f%af%e4%bb%a5%e5%ba%94%e5%af%b9%e4%b8%87%e4%ba%ba%e6%8a%a2%e8%b4%ad%e7%9b%9b%e5%86%b5%e5%90%97%ef%bc%9f.md.html" id="08 秒杀系统设计：你的系统可以应对万人抢购盛况吗？.md.html">08 秒杀系统设计：你的系统可以应对万人抢购盛况吗？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/09%20%e4%ba%a4%e5%8f%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9a%e5%93%aa%e7%a7%8d%e5%9c%b0%e7%90%86%e7%a9%ba%e9%97%b4%e9%82%bb%e8%bf%91%e7%ae%97%e6%b3%95%e6%9b%b4%e5%bf%ab%ef%bc%9f.md.html" id="09 交友系统设计：哪种地理空间邻近算法更快？.md.html">09 交友系统设计：哪种地理空间邻近算法更快？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/10%20%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e%e8%ae%be%e8%ae%a1%ef%bc%9a%e4%bf%a1%e6%81%af%e6%90%9c%e7%b4%a2%e6%80%8e%e4%b9%88%e9%81%bf%e5%85%8d%e5%a4%a7%e6%b5%b7%e6%8d%9e%e9%92%88%ef%bc%9f.md.html" id="10 搜索引擎设计：信息搜索怎么避免大海捞针？.md.html">10 搜索引擎设计：信息搜索怎么避免大海捞针？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/11%20%e5%8f%8d%e5%ba%94%e5%bc%8f%e7%bc%96%e7%a8%8b%e6%a1%86%e6%9e%b6%e8%ae%be%e8%ae%a1%ef%bc%9a%e5%a6%82%e4%bd%95%e4%bd%bf%e6%96%b9%e6%b3%95%e8%b0%83%e7%94%a8%e6%97%a0%e9%98%bb%e5%a1%9e%e7%ad%89%e5%be%85%ef%bc%9f.md.html" id="11 反应式编程框架设计：如何使方法调用无阻塞等待？.md.html">11 反应式编程框架设计：如何使方法调用无阻塞等待？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/12%20%e9%ab%98%e6%80%a7%e8%83%bd%e6%9e%b6%e6%9e%84%e7%9a%84%e4%b8%89%e6%9d%bf%e6%96%a7%ef%bc%9a%e5%88%86%e6%9e%90%e7%b3%bb%e7%bb%9f%e6%80%a7%e8%83%bd%e9%97%ae%e9%a2%98%e4%bb%8e%e5%93%aa%e9%87%8c%e5%85%a5%e6%89%8b%ef%bc%9f.md.html" id="12 高性能架构的三板斧：分析系统性能问题从哪里入手？.md.html">12 高性能架构的三板斧：分析系统性能问题从哪里入手？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/13%20%e5%be%ae%e5%8d%9a%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9a%e6%80%8e%e4%b9%88%e5%ba%94%e5%af%b9%e7%83%ad%e7%82%b9%e4%ba%8b%e4%bb%b6%e7%9a%84%e7%aa%81%e5%8f%91%e8%ae%bf%e9%97%ae%e5%8e%8b%e5%8a%9b%ef%bc%9f.md.html" id="13 微博系统设计：怎么应对热点事件的突发访问压力？.md.html">13 微博系统设计：怎么应对热点事件的突发访问压力？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/14%20%e7%99%be%e7%a7%91%e5%ba%94%e7%94%a8%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9a%e6%9c%ba%e6%88%bf%e8%a2%ab%e7%81%ab%e7%83%a7%e4%ba%86%e7%b3%bb%e7%bb%9f%e8%bf%98%e8%83%bd%e8%ae%bf%e9%97%ae%e5%90%97%ef%bc%9f.md.html" id="14 百科应用系统设计：机房被火烧了系统还能访问吗？.md.html">14 百科应用系统设计：机房被火烧了系统还能访问吗？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/15%20%e9%99%90%e6%b5%81%e5%99%a8%e8%ae%be%e8%ae%a1%ef%bc%9a%e5%a6%82%e4%bd%95%e9%81%bf%e5%85%8d%e8%b6%85%e9%a2%84%e6%9c%9f%e7%9a%84%e9%ab%98%e5%b9%b6%e5%8f%91%e5%8e%8b%e5%8a%9b%e5%8e%8b%e5%9e%ae%e7%b3%bb%e7%bb%9f%ef%bc%9f.md.html" id="15 限流器设计：如何避免超预期的高并发压力压垮系统？.md.html">15 限流器设计：如何避免超预期的高并发压力压垮系统？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/16%20%e9%ab%98%e5%8f%af%e7%94%a8%e6%9e%b6%e6%9e%84%e7%9a%84%e5%8d%81%e7%a7%8d%e6%ad%a6%e5%99%a8%ef%bc%9a%e6%80%8e%e4%b9%88%e5%ba%a6%e9%87%8f%e7%b3%bb%e7%bb%9f%e7%9a%84%e5%8f%af%e7%94%a8%e6%80%a7%ef%bc%9f.md.html" id="16 高可用架构的十种武器：怎么度量系统的可用性？.md.html">16 高可用架构的十种武器：怎么度量系统的可用性？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/17%20Web%20%e5%ba%94%e7%94%a8%e9%98%b2%e7%81%ab%e5%a2%99%ef%bc%9a%e6%80%8e%e6%a0%b7%e6%8b%a6%e6%88%aa%e6%81%b6%e6%84%8f%e7%94%a8%e6%88%b7%e7%9a%84%e9%9d%9e%e6%b3%95%e8%af%b7%e6%b1%82%ef%bc%9f.md.html" id="17 Web 应用防火墙：怎样拦截恶意用户的非法请求？.md.html">17 Web 应用防火墙：怎样拦截恶意用户的非法请求？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/18%20%e5%8a%a0%e8%a7%a3%e5%af%86%e6%9c%8d%e5%8a%a1%e5%b9%b3%e5%8f%b0%ef%bc%9a%e5%a6%82%e4%bd%95%e8%ae%a9%e6%95%8f%e6%84%9f%e6%95%b0%e6%8d%ae%e5%ad%98%e5%82%a8%e4%b8%8e%e4%bc%a0%e8%be%93%e6%9b%b4%e5%ae%89%e5%85%a8%ef%bc%9f.md.html" id="18 加解密服务平台：如何让敏感数据存储与传输更安全？.md.html">18 加解密服务平台：如何让敏感数据存储与传输更安全？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/19%20%e8%ae%b8%e5%8f%af%e5%9e%8b%e5%8c%ba%e5%9d%97%e9%93%be%e9%87%8d%e6%9e%84%ef%bc%9a%e6%97%a0%e4%b8%ad%e5%bf%83%e7%9a%84%e5%8c%ba%e5%9d%97%e9%93%be%e6%80%8e%e4%b9%88%e5%81%9a%e5%88%b0%e5%8f%af%e4%bf%a1%e4%bb%bb%ef%bc%9f.md.html" id="19 许可型区块链重构：无中心的区块链怎么做到可信任？.md.html">19 许可型区块链重构：无中心的区块链怎么做到可信任？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/20%20%e7%bd%91%e7%ba%a6%e8%bd%a6%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9a%e6%80%8e%e6%a0%b7%e8%ae%be%e8%ae%a1%e4%b8%80%e4%b8%aa%e6%97%a5%e8%b5%9a%205%20%e4%ba%bf%e7%9a%84%e7%bd%91%e7%ba%a6%e8%bd%a6%e7%b3%bb%e7%bb%9f%ef%bc%9f.md.html" id="20 网约车系统设计：怎样设计一个日赚 5 亿的网约车系统？.md.html">20 网约车系统设计：怎样设计一个日赚 5 亿的网约车系统？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/21%20%e7%bd%91%e7%ba%a6%e8%bd%a6%e7%b3%bb%e7%bb%9f%e9%87%8d%e6%9e%84%ef%bc%9a%e5%a6%82%e4%bd%95%e7%94%a8%20DDD%20%e9%87%8d%e6%9e%84%e7%bd%91%e7%ba%a6%e8%bd%a6%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%ef%bc%9f.md.html" id="21 网约车系统重构：如何用 DDD 重构网约车系统设计？.md.html">21 网约车系统重构：如何用 DDD 重构网约车系统设计？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/22%20%e5%a4%a7%e6%95%b0%e6%8d%ae%e5%b9%b3%e5%8f%b0%e8%ae%be%e8%ae%a1%ef%bc%9a%e5%a6%82%e4%bd%95%e7%94%a8%e6%95%b0%e6%8d%ae%e4%b8%ba%e7%94%a8%e6%88%b7%e5%88%9b%e9%80%a0%e4%bb%b7%e5%80%bc%ef%bc%9f.md.html" id="22 大数据平台设计：如何用数据为用户创造价值？.md.html">22 大数据平台设计：如何用数据为用户创造价值？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e6%9d%8e%e6%99%ba%e6%85%a7%20%c2%b7%20%e9%ab%98%e5%b9%b6%e5%8f%91%e6%9e%b6%e6%9e%84%e5%ae%9e%e6%88%98%e8%af%be/%e7%bb%93%e6%9d%9f%e8%af%ad%20%e4%b8%80%e4%b8%aa%e6%9e%b6%e6%9e%84%e5%b8%88%e7%9a%84%e4%b8%80%e5%a4%a9.md.html" id="结束语 一个架构师的一天.md.html">结束语 一个架构师的一天.md.html</a>
</li>
<li><a href="/assets/捐赠.md.html">捐赠</a></li>
</ul>
</div>
</div>
<div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseleave="remove_inner()" onmouseover="add_inner()">
<div class="sidebar-toggle-inner"></div>
</div>
<div class="off-canvas-content">
<div class="columns">
<div class="column col-12 col-lg-12">
<div class="book-navbar">
<header class="navbar">
<section class="navbar-section">
<a onclick="open_sidebar()">
<i class="icon icon-menu"></i>
</a>
</section>
</header>
</div>
<div class="book-content" style="max-width: 960px; margin: 0 auto;
    overflow-x: auto;
    overflow-y: hidden;">
<div class="book-post">
<div align="center">因收到Google相关通知，网站将会择期关闭。<a href="https://lumendatabase.org/notices/44265620" target="_blank">相关通知内容</a><hr/></div>
<p align="center" id="tip"></p>
<h1 class="title" data-id="22 大数据平台设计：如何用数据为用户创造价值？" id="title">22 大数据平台设计：如何用数据为用户创造价值？</h1>
<div><p>特别说明：本文相关技术仅用于技术展示，具体实践中，数据收集和算法应用需要遵循国家个人信息保护法与信息安全法等有关法律制度。</p>
<p>你好，我是李智慧。</p>
<p>现在，业界普遍认为互联网创新已经进入下半场，依靠技术创新或者商业模式创新取得爆发性发展的机会越来越少。于是大家把目光转向精细化运营，主要手段就是依靠大数据技术，挖掘每个用户独特的商业价值，提供更具个性化的服务，以此来提升服务水平和营收能力，最终获得更强的市场竞争能力。</p>
<p>Udi大数据平台的主要目标是根据用户的不同喜好，为其分配不同的车型，一方面改善用户体验，另一方面也增加平台营收。此外，如何为用户推荐最优的上车点和下车点，如何分析订单和营收波动，如何发现潜在的高风险用户等等，也需要依赖大数据平台。</p>
<p>大数据技术不同于我们前面设计的高并发案例，高并发案例虽然也要处理海量用户的请求，但是每个用户请求都是独立的，计算与存储也是每个用户独立进行的。而大数据技术则要将这些海量的用户数据进行关联计算，因此，适用于高并发架构的各种分布式技术并不能解决大数据的问题。</p>
<h2 id="udi大数据平台设计">Udi大数据平台设计</h2>
<p>根据Udi大数据应用场景的需求，需要将手机App端数据、数据库订单和用户数据、操作日志数据、网络爬虫爬取的竞争对手数据统一存储到大数据平台，并支持数据分析师、算法工程师提交各种SQL语句、机器学习算法进行大数据计算，并将计算结果存储或返回。Udi大数据平台架构如下图：</p>
<p><img alt="图片" src="assets/01ca174f74c80f11e409792de7ec7cf4.jpg"/></p>
<h4 id="大数据采集与导入">大数据采集与导入</h4>
<p>Udi大数据平台整体可分为三个部分，第一个部分是大数据采集与导入。这一部分又可以分为4小个部分，App端数据采集、系统日志导入、数据库导入、爬虫数据导入。</p>
<p>App端除了业务功能模块，还需要包含几个数据埋点上报模块。App启动的时候，应用启动上报模块会收集用户手机信息，比如手机型号、系统版本、手机上安装的应用列表等数据；App运行期间，也会通过定时数据上报模块，每5秒上报一次数据，主要是用户当前地理位置数据；用户点击操作的时候，一方面会发送请求到Udi后端应用系统，一方面也会通过用户操作上报模块将请求数据以及其他一些更详细的参数发送给后端的应用上报服务器。</p>
<p>后端的应用上报服务器收到前端采集的数据后，发送给消息队列，SparkStreamin从消息队列中消费消息，对数据进行清洗、格式化等ETL处理，并将数据写入到HDFS存储中。</p>
<p>Udi后端应用系统在处理用户请求的过程中，会产生大量日志和数据，这些存储在日志系统和MySQL数据库中的数据也需要导入到大数据平台。Flume日志收集系统会将Udi后端分布式集群中的日志收集起来，发送给SparkStreaming进行ETL处理，最后写入到HDFS中。而MySQL的数据则通过Sqoop数据同步系统直接导入到HDFS中。</p>
<p>除了以上这些Udi系统自己产生的数据，为了更好地应对市场竞争，Udi还会通过网络爬虫从竞争对手的系统中爬取数据。需要注意的是，这里的爬虫不同于[04讲]中的爬虫，因为竞争对手不可能将订单预估价等敏感数据公开。因此，爬虫需要模拟成普通用户爬取数据，这些爬来的数据也会存储在HDFS中，供数据分析师和产品经理在优化定价策略时分析使用。</p>
<h4 id="大数据计算">大数据计算</h4>
<p>Udi大数据平台的第二个部分是大数据计算。写入到HDFS中的数据，一方面供数据分析师进行统计分析，一方面供算法工程师进行机器学习。</p>
<p>数据分析师会通过两种方式分析数据。一种是通过交互命令进行即时查询，通常是一些较为简单的SQL。分析师提交SQL后，在一个准实时、可接受的时间内返回查询结果，这个功能是通过Impala完成的。另外一种是定时SQL统计分析，通常是一些报表类统计，这些SQL一般比较复杂，需要关联多张表进行查询，耗时较长，通过Hive完成，每天夜间服务器空闲的时候定时执行。</p>
<p>算法工程师则开发各种Spark程序，基于HDFS中的数据，进行各种机器学习。</p>
<p>以上这些大数据计算组件，Hive、Spark、SparkStreaming、Impala都部署在同一个大数据集群中，通过Yarn进行资源管理和调度执行。每台服务器既是HDFS的DataNode数据存储服务器，也是Yarn的NodeManager节点管理服务器，还是Impala的Impalad执行服务器。通过Yarn的调度执行，这些服务器上既可以执行SparkStreaming的ETL任务，也可以执行Spark机器学习任务，而执行Hive命令的时候，这些机器上运行的是MapReduce任务。</p>
<h4 id="数据导出与应用">数据导出与应用</h4>
<p>Udi大数据平台的第三个部分是数据导出与应用。Hive命令执行完成后，将结果数据写入到HDFS中，这样并不方便数据分析师或者管理人员查看报表数据。因此还需要用Sqoop将HDFS中的数据导出到MySQL中，然后通过数据分析查询控制台，以图表的方式查看数据。</p>
<p>而机器学习的计算结果则是一些学习模型或者画像数据，将这些数据推送给推荐引擎，由推荐引擎实时响应Udi系统的推荐请求。</p>
<p>大数据平台一方面是一个独立的系统，数据的存储和计算都在其内部完成。一方面又和应用系统有很多关联，数据需要来自应用系统，而计算的结果也需要给应用系统使用。上面的架构图中，属于大数据平台的组件我用蓝色标出，其他颜色代表非大数据平台组件或者系统。</p>
<h2 id="udi大数据派单引擎设计">Udi大数据派单引擎设计</h2>
<p>我们在第20讲讨论了Udi派单引擎，这个派单引擎并没有考虑乘客和车型的匹配关系。根据Udi的运营策略，车辆新旧程度、车辆等级与舒适程度、司机服务水平会影响到订单的价格。派单成功时，系统会根据不同车辆情况预估不同的订单价格并发送给乘客，但是有些乘客会因为预估价格太高而取消订单，而有些乘客则会因为车辆等级太低而取消订单，还有些乘客则会在上车后因为车辆太旧而给出差评。</p>
<p>Udi需要利用大数据技术优化派单引擎，针对不同类别的乘客匹配尽可能合适的车辆。上面采集了乘客的手机型号及手机内安装应用列表，订单数据记录了乘客上下车地点，乘客评价以及订单取消原因记录了用户乘车偏好，车辆及司机数据记录了车辆级别和司机信息，这些数据最终都会同步到大数据平台。</p>
<p>我们将利用这些数据优化Udi派单引擎。根据用户画像、车辆画像、乘车偏好进行同类匹配。</p>
<p><strong>基于乘客分类的匹配</strong></p>
<p>根据乘客的注册信息、App端采集的乘客手机型号、手机内安装应用列表、常用上下车地点等，我们可以将乘客分类，然后根据同类乘客的乘车偏好，预测乘客的偏好并进行匹配。</p>
<p><img alt="图片" src="assets/c75ca45b5db1c691e6d659752f2576d5.jpg"/></p>
<p>比如根据数据分类，乘客A和乘客C是同类乘客，而乘客A偏好车辆类型B和D。乘客C叫车的时候，那么派单系统会优先给他派单车辆类型B和D。</p>
<p><strong>基于车辆分类的匹配</strong></p>
<p>事实上，我们可以直接根据车辆类型属性，对车辆类型进行再分类。比如通过机器学习统计分析，车辆类型B和D可以归为一类，那么如果乘客C偏好车辆类型B，那么我们可以认为车辆类型D也匹配他。</p>
<p><img alt="图片" src="assets/8a10715f32381d2398c9888a8c304380.jpg"/></p>
<p>使用推荐引擎对派单系统进行优化，为乘客分配更合适的车辆，前提是需要对用户和车辆进行分类与画像，想要完成这部分工作，我们可以在大数据平台的Spark机器学习模块通过聚类分析、分类算法、协同过滤算法，以及Hive统计分析模块进行数据处理，将分类后的数据推送给派单引擎去使用。</p>
<p>派单引擎在原有的最小化等车时间基础上，对派单进行调整，使车辆和乘客偏好更匹配，改善用户体验，也增加了平台营收。</p>
<h2 id="小结">小结</h2>
<p>网约车是一个格外依赖大数据进行用户体验优化的应用。比如用户上车点，在一个几千平方米的POI区域内，乘客方便等车，司机不违章的地点可能只有一两个，这一两个点又可能在任何地图上都没有标示。这就意味着，司机和乘客需要通过电话沟通很久才知道对方说的上车点在哪里，然后要么乘客徒步几百米走过来，要么司机绕一大圈去接，给司机和乘客都造成很多麻烦，平台也会因此流失很多用户。</p>
<p>对于这种问题，电子地图应用的厂商需要派测绘人员现场标注这些点。而对于网约车平台，由于不停在上传司机的位置信息，只需要根据乘客最后的上车点进行聚类分析，就会发现该区域大部分乘客最后都是在某个点上车，这个点就是最佳上车点。也就是说，只需要最初的一批乘客忍受麻烦，他们的行为数据就可以被网约车平台用于机器学习和数据挖掘，并被用于优化用户体验。</p>
<p>网约车平台像这样依赖大数据的地方还有很多。所以，网约车平台需要尽可能获取、存储用户和司机的各种行为与业务数据，并基于这些数据不断进行分析、挖掘，寻找潜在的商业机会和用户体验优化。对于一个数亿用户规模的网约车平台，这些数据的规模是非常庞大的，因此需要一个强大、灵活的大数据平台才能完成数据的存储与计算。</p>
<h2 id="思考题">思考题</h2>
<p>在你的工作中，是否有涉及到大数据和机器学习，它们带来了哪些价值？</p>
</div>
</div>
<div>
<div id="prePage" style="float: left">
</div>
<div id="nextPage" style="float: right">
</div>
</div>
</div>
</div>
</div>
<div class="copyright">
<hr/>
<p>© 2019 - 2023 <a href="/cdn-cgi/l/email-protection#f09c9c9cc9c4c1c1c0c7b0979d91999cde939f9d" target="_blank">Liangliang Lee</a>.
                    Powered by <a href="https://github.com/gin-gonic/gin" target="_blank">gin</a> and <a href="https://github.com/kaiiiz/hexo-theme-book" target="_blank">hexo-theme-book</a>.</p>
</div>
</div>
<a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93586c879fde422e',t:'MTc0NTUyNzMxMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NPSEEVD756"></script>
<script src="/static/index.js"></script>
</head></html>