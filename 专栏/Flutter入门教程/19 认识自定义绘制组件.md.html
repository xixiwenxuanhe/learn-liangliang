<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="zh-cn" http-equiv="content-language"/>
<meta content="19 认识自定义绘制组件" name="description"/>
<link href="/static/favicon.png" rel="icon"/>
<title>19 认识自定义绘制组件 </title>
<link href="/static/index.css" rel="stylesheet"/>
<link href="/static/highlight.min.css" rel="stylesheet"/>
<script src="/static/highlight.min.js"></script>
<meta content="Hexo 4.2.0" name="generator"/>
<script data-website-id="83e5d5db-9d06-40e3-b780-cbae722fdf8c" defer="" src="https://umami.lianglianglee.com/script.js"></script>
</head>
<body>
<div class="book-container">
<div class="book-sidebar">
<div class="book-brand">
<a href="/">
<img src="/static/favicon.png"/>
<span>技术文章摘抄</span>
</a>
</div>
<div class="book-menu uncollapsible">
<ul class="uncollapsible">
<li><a class="current-tab" href="/">首页</a></li>
<li><a href="../">上一级</a></li>
</ul>
<ul class="uncollapsible">
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/01%20%e5%89%8d%e8%a8%80-%e6%95%99%e7%a8%8b%e5%86%85%e5%ae%b9%e5%af%bc%e8%af%bb.md.html" id="01 前言-教程内容导读.md.html">01 前言-教程内容导读.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/02%20Flutter%20%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e7%9a%84%e6%90%ad%e5%bb%ba.md.html" id="02 Flutter 开发环境的搭建.md.html">02 Flutter 开发环境的搭建.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/03%20%e6%96%b0%e6%89%8b%e6%9d%91%e5%9f%ba%e7%a1%80%20Dart%20%e8%af%ad%e6%b3%95%20%28%e4%b8%8a%29.md.html" id="03 新手村基础 Dart 语法 (上).md.html">03 新手村基础 Dart 语法 (上).md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/04%20%e6%96%b0%e6%89%8b%e6%9d%91%e5%9f%ba%e7%a1%80%20Dart%20%e8%af%ad%e6%b3%95%20%28%e4%b8%8b%29.md.html" id="04 新手村基础 Dart 语法 (下).md.html">04 新手村基础 Dart 语法 (下).md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/05%20Flutter%20%e8%ae%a1%e6%95%b0%e5%99%a8%e9%a1%b9%e7%9b%ae%e8%a7%a3%e8%af%bb.md.html" id="05 Flutter 计数器项目解读.md.html">05 Flutter 计数器项目解读.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/06%20%e7%8c%9c%e6%95%b0%e5%ad%97%e7%95%8c%e9%9d%a2%e4%ba%a4%e4%ba%92%e4%b8%8e%e9%9c%80%e6%b1%82%e5%88%86%e6%9e%90.md.html" id="06 猜数字界面交互与需求分析.md.html">06 猜数字界面交互与需求分析.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/07%20%e4%bd%bf%e7%94%a8%e7%bb%84%e4%bb%b6%e6%9e%84%e5%bb%ba%e9%9d%99%e6%80%81%e7%95%8c%e9%9d%a2.md.html" id="07 使用组件构建静态界面.md.html">07 使用组件构建静态界面.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/08%20%e7%8a%b6%e6%80%81%e6%95%b0%e6%8d%ae%e4%b8%8e%e7%95%8c%e9%9d%a2%e6%9b%b4%e6%96%b0.md.html" id="08 状态数据与界面更新.md.html">08 状态数据与界面更新.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/09%20%e6%a0%a1%e9%aa%8c%e7%bb%93%e6%9e%9c%e4%b8%8e%e6%8f%90%e7%a4%ba%e4%bf%a1%e6%81%af.md.html" id="09 校验结果与提示信息.md.html">09 校验结果与提示信息.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/10%20%e5%8a%a8%e7%94%bb%e4%bd%bf%e7%94%a8%e4%b8%8e%e7%8a%b6%e6%80%81%e5%91%a8%e6%9c%9f.md.html" id="10 动画使用与状态周期.md.html">10 动画使用与状态周期.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/11%20%e7%8c%9c%e6%95%b0%e5%ad%97%e6%95%b4%e7%90%86%e4%b8%8e%e6%80%bb%e7%bb%93.md.html" id="11 猜数字整理与总结.md.html">11 猜数字整理与总结.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/12%20%e7%94%b5%e5%ad%90%e6%9c%a8%e9%b1%bc%e7%95%8c%e9%9d%a2%e4%ba%a4%e4%ba%92%e4%b8%8e%e9%9c%80%e6%b1%82%e5%88%86%e6%9e%90.md.html" id="12 电子木鱼界面交互与需求分析.md.html">12 电子木鱼界面交互与需求分析.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/13%20%e7%94%b5%e5%ad%90%e6%9c%a8%e9%b1%bc%e9%9d%99%e6%80%81%e7%95%8c%e9%9d%a2%e6%9e%84%e5%bb%ba.md.html" id="13 电子木鱼静态界面构建.md.html">13 电子木鱼静态界面构建.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/14%20%e8%ae%a1%e6%95%b0%e5%8f%98%e5%8c%96%e4%b8%8e%e9%9f%b3%e6%95%88%e6%92%ad%e6%94%be.md.html" id="14 计数变化与音效播放.md.html">14 计数变化与音效播放.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/15%20%e5%bc%b9%e5%87%ba%e9%80%89%e9%a1%b9%e4%b8%8e%e5%88%87%e6%8d%a2%e7%8a%b6%e6%80%81.md.html" id="15 弹出选项与切换状态.md.html">15 弹出选项与切换状态.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/16%20%e7%94%a8%e6%bb%91%e5%8a%a8%e5%88%97%e8%a1%a8%e5%b1%95%e7%a4%ba%e8%ae%b0%e5%bd%95.md.html" id="16 用滑动列表展示记录.md.html">16 用滑动列表展示记录.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/17%20%e7%94%b5%e5%ad%90%e6%9c%a8%e9%b1%bc%e6%95%b4%e7%90%86%e4%b8%8e%e6%80%bb%e7%bb%93.md.html" id="17 电子木鱼整理与总结.md.html">17 电子木鱼整理与总结.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/18%20%e7%99%bd%e6%9d%bf%e7%bb%98%e5%88%b6%e7%95%8c%e9%9d%a2%e4%ba%a4%e4%ba%92%e4%b8%8e%e9%9c%80%e6%b1%82%e5%88%86%e6%9e%90.md.html" id="18 白板绘制界面交互与需求分析.md.html">18 白板绘制界面交互与需求分析.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/19%20%e8%ae%a4%e8%af%86%e8%87%aa%e5%ae%9a%e4%b9%89%e7%bb%98%e5%88%b6%e7%bb%84%e4%bb%b6.md.html" id="19 认识自定义绘制组件.md.html">19 认识自定义绘制组件.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/20%20%e9%80%9a%e8%bf%87%e6%89%8b%e5%8a%bf%e5%9c%a8%e7%99%bd%e6%9d%bf%e4%b8%8a%e7%bb%98%e5%88%b6.md.html" id="20 通过手势在白板上绘制.md.html">20 通过手势在白板上绘制.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/21%20%e7%99%bd%e6%9d%bf%e7%94%bb%e7%ac%94%e7%9a%84%e5%8f%82%e6%95%b0%e8%ae%be%e7%bd%ae.md.html" id="21 白板画笔的参数设置.md.html">21 白板画笔的参数设置.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/22%20%e6%92%a4%e9%94%80%e5%8a%9f%e8%83%bd%e4%b8%8e%e7%94%bb%e6%9d%bf%e4%bc%98%e5%8c%96.md.html" id="22 撤销功能与画板优化.md.html">22 撤销功能与画板优化.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/23%20%e5%ba%94%e7%94%a8%e7%95%8c%e9%9d%a2%e6%95%b4%e5%90%88.md.html" id="23 应用界面整合.md.html">23 应用界面整合.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/24%20%e6%95%b0%e6%8d%ae%e7%9a%84%e6%8c%81%e4%b9%85%e5%8c%96%e5%ad%98%e5%82%a8.md.html" id="24 数据的持久化存储.md.html">24 数据的持久化存储.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/25%20%e7%bd%91%e7%bb%9c%e6%95%b0%e6%8d%ae%e7%9a%84%e8%ae%bf%e9%97%ae.md.html" id="25 网络数据的访问.md.html">25 网络数据的访问.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Flutter%e5%85%a5%e9%97%a8%e6%95%99%e7%a8%8b/26%20%e6%95%99%e7%a8%8b%e6%80%bb%e7%bb%93%e4%b8%8e%e5%b1%95%e6%9c%9b.md.html" id="26 教程总结与展望.md.html">26 教程总结与展望.md.html</a>
</li>
<li><a href="/assets/捐赠.md.html">捐赠</a></li>
</ul>
</div>
</div>
<div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseleave="remove_inner()" onmouseover="add_inner()">
<div class="sidebar-toggle-inner"></div>
</div>
<div class="off-canvas-content">
<div class="columns">
<div class="column col-12 col-lg-12">
<div class="book-navbar">
<header class="navbar">
<section class="navbar-section">
<a onclick="open_sidebar()">
<i class="icon icon-menu"></i>
</a>
</section>
</header>
</div>
<div class="book-content" style="max-width: 960px; margin: 0 auto;
    overflow-x: auto;
    overflow-y: hidden;">
<div class="book-post">
<div align="center">因收到Google相关通知，网站将会择期关闭。<a href="https://lumendatabase.org/notices/44265620" target="_blank">相关通知内容</a><hr/></div>
<p align="center" id="tip"></p>
<h1 class="title" data-id="19 认识自定义绘制组件" id="title">19 认识自定义绘制组件</h1>
<div><h4 id="1-从绘制点开始说起">1.从绘制点开始说起</h4>
<p>我们先通过绘制点来了解一下 Flutter 中绘制的使用方式。左图中是新建的 <code>Paper</code> 组件作为白板主界面；右图在白板的指定坐标处绘制了四个方形的点：</p>
<table>
<thead>
<tr>
<th>空白</th>
<th>绘制四个点</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="36dfaf7d9180b3e211f2165699eb2c9.jpg" src="assets/135c03b739e445cc888c36adff926e75_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></td>
<td><img alt="449fc7b2d4b3aeb8f35809b1016ffc9.jpg" src="assets/83a5eb092aaa41089fb8ff7537b0737d_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></td>
</tr>
</tbody>
</table>
<p><code>Paper</code> 组件如下，由于之后需要进行切换画笔颜色、粗细的操作；涉及到界面中状态的变化，所以这里继承自 <code>StatefulWidget</code>，在状态类的 <code>build</code> 方法中，完成界面的构建逻辑。 <code>PaperAppBar</code> 是单独封装的头部标题组件，和之前类似，就不赘述了；现在主要是想让 <code>body</code> 处设置为可绘制的组件。</p>
<pre><code class="language-dart">class Paper extends StatefulWidget {
  const Paper({Key? key}) : super(key: key);

  @override
  State&lt;Paper&gt; createState() =&gt; _PaperState();
}

class _PaperState extends State&lt;Paper&gt; {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: PaperAppBar(onClear: _clear,),
      body: //TODO
    );
  }

  void _clear() {}
}
</code></pre>
<hr/>
<p>我们已经知道， Flutter 中的所有界面呈现，都和 <code>Widget</code> 息息相关，绘制也不例外。在 Flutter 中接触到 Canvas 最常用的方式是 <code>CustomPaint</code> 组件 + <code>CustomPainter</code> 画板组合。下面代码，将 <code>body</code> 设置为 <code>CustomPaint</code> 组件；<code>CustomPaint</code> 在构造时传入 <code>painter</code> 参数是 <code>CustomPainter</code> 的子类。</p>
<p>自定义绘制，就是指继承 <code>CustomPainter</code> 完成绘制逻辑，比如这里的 <code>PaperPainter</code> 画板。另外，我们希望画布的尺寸填充剩余空间，可以将 <code>child</code> 指定为 <code>ConstrainedBox</code> ，并通过 <code>BoxConstraints.expand()</code> 的约束。</p>
<pre><code class="language-css">body: CustomPaint(
  painter: PaperPainter(),
  child: ConstrainedBox(constraints: const BoxConstraints.expand()),
),
</code></pre>
<p>也就是说，对于自定义绘制来说，最重要的是 <code>CustomPainter</code> 子类代码的实现，这里通过 <code>PaperPainter</code> 来完成绘制逻辑。在 <code>paint</code> 回调中，可以访问到 Canvas 对象和画板的尺寸 Size 。
在该方法中通过调用 <code>Canvas</code> 的相关方法就可以进行绘制。比如这里使用 <code>drawPoints</code> 绘制点集，其中需要传入三个参数，分别是:</p>
<ul>
<li>点的模式 <code>PointMode</code> : 共三种模式， points、lines、polygon</li>
<li>点集 <code>List&lt;Offset&gt;</code> ： 点的坐标列表</li>
<li>画笔 <code>Paint</code> : 绘制时的配置参数</li>
</ul>
<pre><code class="language-ini">class PaperPainter extends CustomPainter{

  @override
  void paint(Canvas canvas, Size size) {
    List&lt;Offset&gt; points = const [
      Offset(100,100),
      Offset(100,150),
      Offset(150,150),
      Offset(200,100),
    ];

    Paint paint = Paint();
    paint.strokeWidth = 10;
    canvas.drawPoints(PointMode.points, points , paint);
  }

  @override
  bool shouldRepaint(covariant CustomPainter oldDelegate) =&gt; true;

}
</code></pre>
<p>上面点模式是 <code>PointMode.points</code> ，也就是绘制一个个点。如下是另外两者模式的效果，看起来也很清晰：<code>PointMode.lines</code> 会将点集分为若干对，没对连接成线；<code>PointMode.polygon</code> 会将点依次连接；</p>
<table>
<thead>
<tr>
<th>PointMode.lines</th>
<th>PointMode.polygon</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="6eb54a2e70a56c27ac8a4e824b04ebb.jpg" src="assets/9c9e6143adf04d9abc47aeb04086d924_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></td>
<td><img alt="ee2edaca86502310aaa34cd1ec4524d.jpg" src="assets/00a192456d924697980234942d016127_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></td>
</tr>
</tbody>
</table>
<p>到这里，就通过 Canvas 完成了一个最基础的点集绘制案例，当前代码位置 <a href="https://github.com/toly1994328/flutter_first_station/blob/81d001c3eff1f287fd528ae4efe582e0ddcc5e68/lib/paper/paper.dart" target="_blank">paper.dart</a> 。接下来，介绍一下 <code>Paint</code> 对象，看看你的画笔有哪些功能。</p>
<hr/>
<h4 id="2-简单认识画笔的属性">2. 简单认识画笔的属性</h4>
<p>可以先回想一下，我们现实中画画时用的笔有哪些特性：很自然的可以想到: <code>颜色</code>、<code>粗细</code> 。 这两个配置项分别对应 strokeWidth 和 color 属性，在绘制之前通过直接 paint 对象设置即可：</p>
<pre><code class="language-ini">Paint paint = Paint();
paint.strokeWidth = 10;
paint.color = Colors.red;
</code></pre>
<table>
<thead>
<tr>
<th>粗细 strokeWidth</th>
<th>颜色 color</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="52ddbd8b2596582bd838e78d5a27349.jpg" src="assets/b54dbd4c9d284f97a1ae0297cb4cbe7c_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></td>
<td><img alt="8ff25b2a1eeb5ec757f67a9e84a535c.jpg" src="assets/ca874c47cf1c4836aecd64ae50baa84f_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></td>
</tr>
</tbody>
</table>
<hr/>
<p>之前线间的连接很突兀，可以使用将 <code>strokeCap</code> 设置为 <code>StrokeCap.round</code> 让线编程圆头：</p>
<pre><code class="language-ini">paint.strokeCap = StrokeCap.round;
</code></pre>
<table>
<thead>
<tr>
<th>StrokeCap.butt</th>
<th>StrokeCap.round</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="ee2edaca86502310aaa34cd1ec4524d.jpg" src="assets/00a192456d924697980234942d016127_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75-1711004451131.awebp"/></td>
<td><img alt="cabfff1b8eadb65b60991bd946fd0b1.jpg" src="assets/c242022b21494076aa47ce5f6bec21da_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></td>
</tr>
</tbody>
</table>
<p>这里面向新手，对于绘制的知识也点到为止，能满足当前需求即可，不会进行非常系统的介绍。不过感兴趣的可以看我的 <a href="https://juejin.cn/book/6844733827265331214/section" target="_blank">《Flutter 绘制指南 - 妙笔生花》</a> 小册，其中对于绘制方方面面都介绍的比较详细。</p>
<hr/>
<h4 id="3-简单的基础图形绘制">3. 简单的基础图形绘制</h4>
<p>Canvas 中提供了一些基础图形的绘制，比如 <code>圆形</code>、<code>矩形</code>、<code>圆角矩形</code>、<code>椭圆</code>、<code>圆弧</code> 等，这里简单了解一下。</p>
<blockquote>
<p>drawCircle 绘制圆形: 三个入参分别是圆心坐标 Offset、半径 double 、 画笔 Paint。</p>
</blockquote>
<p>另外，Paint 默认是填充样式，如下左图会填满内部；可以将 <code>style</code> 设置为 <code>PaintingStyle.stroke</code>变成线型模式，如下右图：</p>
<p><img alt="image.png" src="assets/da3f45c05aa447f386d5c6efe87516b4_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></p>
<pre><code class="language-ini">@override
void paint(Canvas canvas, Size size) {
  Paint paint = Paint();
  canvas.drawCircle(Offset(100, 100), 50, paint);
  paint.style = PaintingStyle.stroke;
  canvas.drawCircle(Offset(250, 100), 50, paint);
}
</code></pre>
<hr/>
<blockquote>
<p>drawRect 绘制矩形：两个入参分别是矩形 Rect、画笔 Paint。
drawRRect 绘制圆角矩形：两个入参分别是矩形 RRect、画笔 Paint。</p>
</blockquote>
<p><img alt="image.png" src="assets/3710992aa8ac4d50a056b771ce6442cf_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></p>
<pre><code class="language-ini">Paint paint = Paint();
paint.style = PaintingStyle.stroke;
paint.strokeWidth = 2;
// 绘制矩形
Rect rect = Rect.fromCenter(center: Offset(100, 100), width: 100, height: 80);
canvas.drawRect(rect, paint);
// 绘制圆角矩形
paint.style = PaintingStyle.fill;
RRect rrect = RRect.fromRectXY(rect.translate(150, 0), 8, 8);
canvas.drawRRect(rrect, paint);
</code></pre>
<hr/>
<blockquote>
<p>drawOval 绘制椭圆：两个入参分别是矩形 Rect、画笔 Paint。
drawArc 绘制圆弧：五个入参分别是矩形 RRect、起始弧度 double、扫描弧度 double、是否闭合 bool、画笔 Paint。</p>
</blockquote>
<p><img alt="image.png" src="assets/c2075f8e788849ee84e41a4b2be69883_tplv-k3u1fbpfcp-jj-mark_1890_0_0_0_q75.awebp"/></p>
<pre><code class="language-ini">Paint paint = Paint();
paint.strokeWidth = 2;
// 绘制椭圆
Rect overRect = Rect.fromCenter(center: Offset(100, 100), width: 100, height: 80); 
canvas.drawOval(overRect, paint);
// 绘制圆弧
canvas.drawArc(overRect.translate(150, 0), 0, pi*1.3,true,paint);
</code></pre>
<hr/>
<h4 id="4-本章小结">4. 本章小结</h4>
<p>本章主要介绍了如果在 Flutter 中通过 Canvas 自定义绘制内容。界面就相当于一张白纸、绘制接口方法就相当于画笔，使用已经存在的组件固然简单，但学会自己控制画笔绘制内容可以创造更多的精彩。当然，想要精通绘制也不是一朝一夕可以达成的，但凡工艺技能，都是熟能生巧。</p>
<p>这里只是简单认识了在 Flutter 中使用 Canvas 绘制的方式，接下来将结合手势和绘制，完成在手指在界面上拖拽留下痕迹的绘制效果。</p>
</div>
</div>
<div>
<div id="prePage" style="float: left">
</div>
<div id="nextPage" style="float: right">
</div>
</div>
</div>
</div>
</div>
<div class="copyright">
<hr>
<p>© 2019 - 2023 <a href="/cdn-cgi/l/email-protection#c2aeaeaefbf6f3f3f2f582a5afa3abaeeca1adaf" target="_blank">Liangliang Lee</a>.
                    Powered by <a href="https://github.com/gin-gonic/gin" target="_blank">gin</a> and <a href="https://github.com/kaiiiz/hexo-theme-book" target="_blank">hexo-theme-book</a>.</p>
</hr></div>
</div>
<a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9359eecabbd0054a',t:'MTc0NTU0MzEzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NPSEEVD756"></script>
<script src="/static/index.js"></script>
</head></html>