<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="zh-cn" http-equiv="content-language"/>
<meta content="08  加乘法则：如何计算复杂事件发生的概率？" name="description"/>
<link href="/static/favicon.png" rel="icon"/>
<title>08  加乘法则：如何计算复杂事件发生的概率？ </title>
<link href="/static/index.css" rel="stylesheet"/>
<link href="/static/highlight.min.css" rel="stylesheet"/>
<script src="/static/highlight.min.js"></script>
<meta content="Hexo 4.2.0" name="generator"/>
<script data-website-id="83e5d5db-9d06-40e3-b780-cbae722fdf8c" defer="" src="https://umami.lianglianglee.com/script.js"></script>
</head>
<body>
<div class="book-container">
<div class="book-sidebar">
<div class="book-brand">
<a href="/">
<img src="/static/favicon.png"/>
<span>技术文章摘抄</span>
</a>
</div>
<div class="book-menu uncollapsible">
<ul class="uncollapsible">
<li><a class="current-tab" href="/">首页</a></li>
<li><a href="../">上一级</a></li>
</ul>
<ul class="uncollapsible">
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/00%20%e5%bc%80%e7%af%87%e8%af%8d%20%20%e6%95%b0%e5%ad%a6%ef%bc%8c%e7%bc%96%e7%a8%8b%e8%83%bd%e5%8a%9b%e7%9a%84%e8%90%a5%e5%85%bb%e6%a0%b9%e5%9f%ba.md.html" id="00 开篇词  数学，编程能力的营养根基.md.html">00 开篇词  数学，编程能力的营养根基.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/01%20%20%e4%bb%8e%e8%ae%a1%e6%95%b0%e5%bc%80%e5%a7%8b%ef%bc%8c%e7%a8%8b%e5%ba%8f%e5%91%98%e5%bf%85%e7%9f%a5%e5%bf%85%e4%bc%9a%e7%9a%84%e6%95%b0%e5%88%b6%e8%bd%ac%e6%8d%a2%e6%b3%95.md.html" id="01  从计数开始，程序员必知必会的数制转换法.md.html">01  从计数开始，程序员必知必会的数制转换法.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/02%20%20%e9%80%bb%e8%be%91%e4%b8%8e%e6%b2%9f%e9%80%9a%ef%bc%8c%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e8%ae%b2%e5%87%ba%e6%9c%89%e9%80%bb%e8%be%91%e7%9a%84%e8%af%9d%ef%bc%9f.md.html" id="02  逻辑与沟通，怎样才能讲出有逻辑的话？.md.html">02  逻辑与沟通，怎样才能讲出有逻辑的话？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/03%20%20%e7%94%a8%e6%95%b0%e5%ad%a6%e5%86%b3%e7%ad%96%ef%bc%8c%e5%a6%82%e4%bd%95%e8%a7%84%e5%88%92%e5%a5%bd%e6%8a%95%e5%85%a5%e3%80%81%e8%bd%ac%e5%8c%96%e5%92%8c%e4%ba%a7%e5%87%ba%ef%bc%9f.md.html" id="03  用数学决策，如何规划好投入、转化和产出？.md.html">03  用数学决策，如何规划好投入、转化和产出？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/04%20%20%e4%b8%87%e7%89%a9%e5%8f%af%e6%95%b0%e5%ad%a6%ef%bc%8c%e7%bb%8f%e5%85%b8%e5%85%ac%e5%bc%8f%e6%98%af%e5%a6%82%e4%bd%95%e5%9c%a8%e7%94%9f%e6%b4%bb%e4%b8%ad%e5%ba%94%e7%94%a8%e7%9a%84%ef%bc%9f.md.html" id="04  万物可数学，经典公式是如何在生活中应用的？.md.html">04  万物可数学，经典公式是如何在生活中应用的？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/05%20%20%e6%b1%82%e6%9e%81%e5%80%bc%ef%bc%9a%e5%a6%82%e4%bd%95%e6%89%be%e5%88%b0%e5%a4%8d%e6%9d%82%e4%b8%9a%e5%8a%a1%e7%9a%84%e6%9c%80%e4%bc%98%e8%a7%a3%ef%bc%9f.md.html" id="05  求极值：如何找到复杂业务的最优解？.md.html">05  求极值：如何找到复杂业务的最优解？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/06%20%20%e5%90%91%e9%87%8f%e5%8f%8a%e5%85%b6%e5%af%bc%e6%95%b0%ef%bc%9a%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%a6%82%e4%bd%95%e5%ae%8c%e6%88%90%e5%af%b9%e6%b5%b7%e9%87%8f%e9%ab%98%e7%bb%b4%e5%ba%a6%e6%95%b0%e6%8d%ae%e8%ae%a1%e7%ae%97%ef%bc%9f.md.html" id="06  向量及其导数：计算机如何完成对海量高维度数据计算？.md.html">06  向量及其导数：计算机如何完成对海量高维度数据计算？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/07%20%20%e7%ba%bf%e6%80%a7%e5%9b%9e%e5%bd%92%ef%bc%9a%e5%a6%82%e4%bd%95%e5%9c%a8%e7%a6%bb%e6%95%a3%e7%82%b9%e4%b8%ad%e5%af%bb%e6%89%be%e6%95%b0%e6%8d%ae%e8%a7%84%e5%be%8b%ef%bc%9f.md.html" id="07  线性回归：如何在离散点中寻找数据规律？.md.html">07  线性回归：如何在离散点中寻找数据规律？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/08%20%20%e5%8a%a0%e4%b9%98%e6%b3%95%e5%88%99%ef%bc%9a%e5%a6%82%e4%bd%95%e8%ae%a1%e7%ae%97%e5%a4%8d%e6%9d%82%e4%ba%8b%e4%bb%b6%e5%8f%91%e7%94%9f%e7%9a%84%e6%a6%82%e7%8e%87%ef%bc%9f.md.html" id="08  加乘法则：如何计算复杂事件发生的概率？.md.html">08  加乘法则：如何计算复杂事件发生的概率？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/09%20%20%e4%bc%bc%e7%84%b6%e4%bc%b0%e8%ae%a1%ef%bc%9a%e5%a6%82%e4%bd%95%e5%88%a9%e7%94%a8%20MLE%20%e5%af%b9%e5%8f%82%e6%95%b0%e8%bf%9b%e8%a1%8c%e4%bc%b0%e8%ae%a1%ef%bc%9f.md.html" id="09  似然估计：如何利用 MLE 对参数进行估计？.md.html">09  似然估计：如何利用 MLE 对参数进行估计？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/10%20%20%e4%bf%a1%e6%81%af%e7%86%b5%ef%bc%9a%e4%ba%8b%e4%bb%b6%e7%9a%84%e4%b8%8d%e7%a1%ae%e5%ae%9a%e6%80%a7%e5%a6%82%e4%bd%95%e8%ae%a1%e7%ae%97%ef%bc%9f.md.html" id="10  信息熵：事件的不确定性如何计算？.md.html">10  信息熵：事件的不确定性如何计算？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/11%20%20%e7%81%b0%e5%ba%a6%e5%ae%9e%e9%aa%8c%ef%bc%9a%e5%a6%82%e4%bd%95%e8%ae%be%e8%ae%a1%e7%81%b0%e5%ba%a6%e5%ae%9e%e9%aa%8c%e5%b9%b6%e8%ae%a1%e7%ae%97%e5%ae%9e%e9%aa%8c%e7%9a%84%e6%94%b6%e7%9b%8a%ef%bc%9f.md.html" id="11  灰度实验：如何设计灰度实验并计算实验的收益？.md.html">11  灰度实验：如何设计灰度实验并计算实验的收益？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/12%20%20%e7%bb%9f%e8%ae%a1%e5%ad%a6%e6%96%b9%e6%b3%95%ef%bc%9a%e5%a6%82%e4%bd%95%e8%af%81%e6%98%8e%e7%81%b0%e5%ba%a6%e5%ae%9e%e9%aa%8c%e6%95%88%e6%9e%9c%e4%b8%8d%e6%98%af%e5%81%b6%e7%84%b6%e5%be%97%e5%88%b0%e7%9a%84%ef%bc%9f.md.html" id="12  统计学方法：如何证明灰度实验效果不是偶然得到的？.md.html">12  统计学方法：如何证明灰度实验效果不是偶然得到的？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/13%20%20%e5%a4%8d%e6%9d%82%e5%ba%a6%ef%bc%9a%e5%a6%82%e4%bd%95%e5%88%a9%e7%94%a8%e6%95%b0%e5%ad%a6%e6%8e%a8%e5%af%bc%e5%af%b9%e7%a8%8b%e5%ba%8f%e8%bf%9b%e8%a1%8c%e4%bc%98%e5%8c%96%ef%bc%9f.md.html" id="13  复杂度：如何利用数学推导对程序进行优化？.md.html">13  复杂度：如何利用数学推导对程序进行优化？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/14%20%20%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%be%aa%e7%8e%af%ef%bc%9a%e5%a6%82%e4%bd%95%e5%88%a9%e7%94%a8%e6%95%b0%e5%ad%a6%e5%bd%92%e7%ba%b3%e6%b3%95%e8%bf%9b%e8%a1%8c%e7%a8%8b%e5%ba%8f%e5%bc%80%e5%8f%91%ef%bc%9f.md.html" id="14  程序的循环：如何利用数学归纳法进行程序开发？.md.html">14  程序的循环：如何利用数学归纳法进行程序开发？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/15%20%20%e9%80%92%e5%bd%92%ef%bc%9a%e5%a6%82%e4%bd%95%e8%ae%a1%e7%ae%97%e6%b1%89%e8%af%ba%e5%a1%94%e9%97%ae%e9%a2%98%e7%9a%84%e7%a7%bb%e5%8a%a8%e6%ad%a5%e6%95%b0%ef%bc%9f.md.html" id="15  递归：如何计算汉诺塔问题的移动步数？.md.html">15  递归：如何计算汉诺塔问题的移动步数？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/16%20%20%e4%ba%8c%e5%88%86%e6%b3%95%ef%bc%9a%e5%a6%82%e4%bd%95%e5%88%a9%e7%94%a8%e6%8c%87%e6%95%b0%e7%88%86%e7%82%b8%e4%bc%98%e5%8c%96%e7%a8%8b%e5%ba%8f%ef%bc%9f.md.html" id="16  二分法：如何利用指数爆炸优化程序？.md.html">16  二分法：如何利用指数爆炸优化程序？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/17%20%20%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%ef%bc%9a%e5%a6%82%e4%bd%95%e5%88%a9%e7%94%a8%e6%9c%80%e4%bc%98%e5%ad%90%e7%bb%93%e6%9e%84%e8%a7%a3%e5%86%b3%e9%97%ae%e9%a2%98%ef%bc%9f.md.html" id="17  动态规划：如何利用最优子结构解决问题？.md.html">17  动态规划：如何利用最优子结构解决问题？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/18%20%20AI%20%e5%85%a5%e9%97%a8%ef%bc%9a%e5%88%a9%e7%94%a8%203%20%e4%b8%aa%e5%85%ac%e5%bc%8f%e6%90%ad%e5%bb%ba%e6%9c%80%e7%ae%80%20AI%20%e6%a1%86%e6%9e%b6.md.html" id="18  AI 入门：利用 3 个公式搭建最简 AI 框架.md.html">18  AI 入门：利用 3 个公式搭建最简 AI 框架.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/19%20%20%e9%80%bb%e8%be%91%e5%9b%9e%e5%bd%92%ef%bc%9a%e5%a6%82%e4%bd%95%e8%ae%a9%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%81%9a%e5%87%ba%e4%ba%8c%e5%80%bc%e5%8c%96%e5%86%b3%e7%ad%96%ef%bc%9f.md.html" id="19  逻辑回归：如何让计算机做出二值化决策？.md.html">19  逻辑回归：如何让计算机做出二值化决策？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/20%20%20%e5%86%b3%e7%ad%96%e6%a0%91%ef%bc%9a%e5%a6%82%e4%bd%95%e5%af%b9%20NP%20%e9%9a%be%e5%a4%8d%e6%9d%82%e9%97%ae%e9%a2%98%e8%bf%9b%e8%a1%8c%e5%90%af%e5%8f%91%e5%bc%8f%e6%b1%82%e8%a7%a3%ef%bc%9f.md.html" id="20  决策树：如何对 NP 难复杂问题进行启发式求解？.md.html">20  决策树：如何对 NP 难复杂问题进行启发式求解？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/21%20%20%e7%a5%9e%e7%bb%8f%e7%bd%91%e7%bb%9c%e4%b8%8e%e6%b7%b1%e5%ba%a6%e5%ad%a6%e4%b9%a0%ef%bc%9a%e8%ae%a1%e7%ae%97%e6%9c%ba%e6%98%af%e5%a6%82%e4%bd%95%e7%90%86%e8%a7%a3%e5%9b%be%e5%83%8f%e3%80%81%e6%96%87%e6%9c%ac%e5%92%8c%e8%af%ad%e9%9f%b3%e7%9a%84%ef%bc%9f.md.html" id="21  神经网络与深度学习：计算机是如何理解图像、文本和语音的？.md.html">21  神经网络与深度学习：计算机是如何理解图像、文本和语音的？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/22%20%20%e9%9d%a2%e8%af%95%e4%b8%ad%e9%82%a3%e4%ba%9b%e5%9d%91%e4%ba%86%e6%97%a0%e6%95%b0%e4%ba%ba%e7%9a%84%e7%ae%97%e6%b3%95%e9%a2%98.md.html" id="22  面试中那些坑了无数人的算法题.md.html">22  面试中那些坑了无数人的算法题.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/23%20%20%e7%ab%99%e5%9c%a8%e7%94%9f%e6%b4%bb%e7%9a%84%e5%8d%81%e5%ad%97%e8%b7%af%e5%8f%a3%ef%bc%8c%e5%a6%82%e4%bd%95%e7%94%a8%e6%95%b0%e5%ad%a6%e6%8a%89%e6%8b%a9%ef%bc%9f.md.html" id="23  站在生活的十字路口，如何用数学抉择？.md.html">23  站在生活的十字路口，如何用数学抉择？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e7%a8%8b%e5%ba%8f%e5%91%98%e7%9a%84%e6%95%b0%e5%ad%a6%e8%af%be/24%20%e7%bb%93%e6%9d%9f%e8%af%ad%20%20%e6%95%b0%e5%ad%a6%e5%ba%95%e5%ad%90%e5%a5%bd%ef%bc%8c%e5%ad%a6%e5%95%a5%e9%83%bd%e5%bf%ab.md.html" id="24 结束语  数学底子好，学啥都快.md.html">24 结束语  数学底子好，学啥都快.md.html</a>
</li>
<li><a href="/assets/捐赠.md.html">捐赠</a></li>
</ul>
</div>
</div>
<div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseleave="remove_inner()" onmouseover="add_inner()">
<div class="sidebar-toggle-inner"></div>
</div>
<div class="off-canvas-content">
<div class="columns">
<div class="column col-12 col-lg-12">
<div class="book-navbar">
<header class="navbar">
<section class="navbar-section">
<a onclick="open_sidebar()">
<i class="icon icon-menu"></i>
</a>
</section>
</header>
</div>
<div class="book-content" style="max-width: 960px; margin: 0 auto;
    overflow-x: auto;
    overflow-y: hidden;">
<div class="book-post">
<div align="center">因收到Google相关通知，网站将会择期关闭。<a href="https://lumendatabase.org/notices/44265620" target="_blank">相关通知内容</a><hr/></div>
<p align="center" id="tip"></p>
<h1 class="title" data-id="08  加乘法则：如何计算复杂事件发生的概率？" id="title">08  加乘法则：如何计算复杂事件发生的概率？</h1>
<div><p>在我们的工作和生活中少不了对概率的计算，对概率的准确计算会帮助我们做出更加合理高效的决策。</p>
<p>例如，早上出门之前，你需要对是否携带雨伞进行决策。如果没有任何依据而随机决策，那么就会遇到下雨没带伞或者晴天带伞的麻烦；而如果有依据，你知道今天下雨的概率超过 80%，那么你就会做出带雨伞的决策，来规避下雨带来不便的风险。</p>
<p>那么问题来了，对于一个事件而言，其发生的概率该如何计算呢？这一讲我们就来解答。</p>
<h3 id="概率来自统计">概率来自统计</h3>
<p>还记得我们最开始接触概率时的定义吗？概率用来描述一个事件发生的可能性，它是个 0 到 1 的数字。概率的定义式就是 m/n，含义为假设某个现象重复执行 n 次（n 较大），其中目标事件发生了 m 次，则目标事件发生的概率就是 m/n。</p>
<blockquote>
<p>举个例子，一枚硬币重复抛 100 次，其中正面朝上 49 次，反面朝上 51 次，则硬币正面朝上的概率就是 0.49。</p>
</blockquote>
<p>概率的定义式非常重要，如果你能灵活运用，并结合一定的代码开发，有时候可以快速解决一个复杂的数学问题。</p>
<p>我们举个例子，在一个正方形内有一个内切圆，在正方形内随机选取一点，问该点也在圆内的概率是多少？
<img alt="Lark20201117-165117.png" src="assets/CgqCHl-zjyKAWZQDAABRFSgu6k0435.png">
这是个数学问题，但你可以借助概率的定义式完成计算，代码如下：</img></p>
<pre><code>import random

def main():

	m = 0

	n = 1000

	for _ in range(n):

		x = random.random()

		y = random.random()

		if x*x + y*y &lt; 1:

			m += 1

	print 1.0*m/n

if __name__ == '__main__':

	main()
</code></pre>
<p>我们对代码进行走读：</p>
<ul>
<li>第 4、5 行定义了 m 和 n 两个变量。其中，n 赋值为 1000，意味着我们要重复执行这个动作 1000 次，m 表示坐标点落入圆内的次数；</li>
<li>接下来，就是第 6～10 行的 1000 次实验的循环了。每次实验，我们随机生成一个坐标点 (x,y)，其中 x 和 y 的取值范围都是 0～1 的浮点数；</li>
<li>这样，在第 9 行中，如果点 (x,y) 与原点的距离小于 1，则表示该点在圆内，m 自动加 1；</li>
<li>最后，打印出 m 和 n 的比值。</li>
</ul>
<p>我们运行程序的结果如下：
<img alt="Drawing 1.png" src="assets/CgqCHl-zj0mAcEsZAABNWAtZ0sk472.png"/></p>
<p>这个题目如果从数学的视角来计算，结果就是 P =πr2÷4r2= π÷4 = 0.785，这与我们的计算结果是一样的。</p>
<p>未来，如果你遇到复杂的概率计算时，不妨试着用这种统计法来求解。</p>
<h3 id="用加乘法则来计算复杂事件的概率">用加乘法则来计算复杂事件的概率</h3>
<p>统计法是一种用程序思想解决数学问题的范例，但这并不意味着你不需要学习数学中概率计算的原理。原因在于，有些场景下重复试验的条件并不成立；或者是事件极其复杂，重复试验的代价太大。这就需要我们掌握一些基本的概率计算法则。</p>
<p>在这一课时，我们重点介绍加法原理和乘法原理。</p>
<h4 id="1-加法原理">1.加法原理</h4>
<p>加法原理可以理解为，一个事件有多个可能的发生路径，那么这个事件发生的概率，就是所有路径发生的概率之和。</p>
<p>例如，在掷骰子的游戏中，掷出的点数大于 4 的概率是多少？</p>
<p>掷骰子的 6 个可能的点数是 6 个路径，每个路径发生的概率是 1/6，其中满足条件中点数大于 4 的只有最后两条路径。利用加法原理则有，点数大于 4 的概率为 <sup>1</sup>⁄<sub>6</sub> + <sup>1</sup>⁄<sub>6</sub> = 1/3，如下图：
<img alt="Lark20201117-165123.png" src="assets/Ciqc1F-zj1qAN-hzAACxn7OHrQI389.png"/></p>
<h4 id="2-乘法原理">2.乘法原理</h4>
<p>如果将加法原理理解为是串行的逻辑，那么乘法原理就是个并行的逻辑。乘法原理可以理解为，某个事件的发生，依赖多个事件的同时发生。那么原事件发生的概率，就是所有这必须发生的多个事件的乘积。</p>
<p>例如，你与大迷糊一起玩掷骰子的游戏，求大迷糊掷出 4 点的同时，你最终获胜的概率是多少？</p>
<p>这时候，计算的概率就必须两个条件同时发生。这两个条件分别是，大迷糊掷出 4 点和你的点数大于 4。根据前面的计算，我们知道掷骰子点数大于 4 的概率为 1/3。因此，这两个条件发生概率的乘积就是最终的结果，即 P (大迷糊掷出 4 点的同时，你最终获胜) = 1/6×1/3 = <sup>1</sup>⁄<sub>18</sub> = 0.0556。</p>
<p>对于这个例子，我们可以用统计法进行仿真，代码如下：</p>
<pre><code>import random

obj = 0.0

for _ in range(10000):	

	you = random.randint(1,6)

	damihu = random.randint(1,6)

	if damihu == 4 and you &gt; damihu:

		obj += 1

print obj/10000
</code></pre>
<p>我们对代码进行走读：</p>
<ul>
<li>第 3 行的 obj，就是最终事件发生的频次；</li>
<li>我们对现象观察 10000 次，这样就形成了第 4～8 行的 for 循环；</li>
<li>每次循环，在第 5 和 6 行，随机生成你的点数和大迷糊的点数；</li>
<li>第 7 行进行判断，大迷糊为 4 点且你的点数大于大迷糊的点数；</li>
<li>如果满足条件，则在第 8 行执行 obj 加 1；</li>
<li>最终，打印出 obj 除以 10000。</li>
</ul>
<p>这段代码运行的结果如下图，跟我们计算的结果几乎一致。
<img alt="Lark20201117-165125.png" src="assets/Ciqc1F-zj2iAQDXfAAIhj_Pzl0k278.png"/></p>
<h3 id="条件概率">条件概率</h3>
<p>刚刚的加乘法则，适用于独立事件的概率求解。独立事件的含义，就是上面所提到的原子事件。也就是，拆解出的子事件之间没有任何的先后或互相影响结果的因素。例如，大迷糊爱喝咖啡，和大漂亮爱穿高跟鞋，就是两个毫无关系的独立事件。对于独立事件，应用加乘法则可以很快得到整体的概率。</p>
<p>那么，如果我们无法得到独立的事件，而都是耦合在一起的事件，又该如何计算概率呢？这就需要用到条件概率的知识了。</p>
<p><strong>条件概率</strong>，指事件 A 在另外一个事件 B 已经发生条件下的发生概率，记作 P(A|B)，读作“B 条件下 A 的概率”。条件概率的定义式为 P(A|B) = P(AB) / P(B)，将其变换一下就是 P(AB) = P(A|B) × P(B)。</p>
<blockquote>
<p>条件概率的特殊性，在于事件 A 和事件 B 有千丝万缕的联系。如果二者为毫无关联的独立事件的话，事件 A 的发生则与 B 毫无关系，则有 P(A|B) = P(A)。</p>
</blockquote>
<p>我们给一个例子辅助理解。假设有一对夫妻，他们有两个孩子。求他们在有女儿的条件下，两个孩子性别相同的概率是多少？</p>
<p>这个概率看似难求，但只要定义好事件并套用定义式，就能完成计算。我们把事件 B 定义为，这对夫妻有女儿，事件 A 为两个孩子性别相同。因此，计算的目标就是 P(A|B)，也就是计算 P(A|B) = P(AB) / P(B)。</p>
<ul>
<li>事件 AB 的含义是这对夫妻有女儿，且两个孩子性别相同。也就是说，这对夫妻的孩子都是女儿，即第一胎是女儿，第二胎还是女儿。此时根据乘法原理，得到 P(AB) = (<sup>1</sup>⁄<sub>2</sub>)×(<sup>1</sup>⁄<sub>2</sub>) = 1/4。</li>
<li>事件 B 为这对夫妻有女儿，不管第几胎，甚至是两胎都是女儿。这样就有了 3 种可能的情况：分别是第一胎女儿、第二胎儿子；第一胎儿子、第二胎女儿；第一胎女儿、第二胎女儿。这样根据加法原理和乘法原理，得到 P(B) = (<sup>1</sup>⁄<sub>2</sub>)×(<sup>1</sup>⁄<sub>2</sub>)+(<sup>1</sup>⁄<sub>2</sub>)×(<sup>1</sup>⁄<sub>2</sub>)+(<sup>1</sup>⁄<sub>2</sub>)×(<sup>1</sup>⁄<sub>2</sub>) = 3/4。因此 P(A|B) = P(AB) / P(B) = (<sup>1</sup>⁄<sub>4</sub>) / (<sup>3</sup>⁄<sub>4</sub>) = 1/3。</li>
</ul>
<p>对于这个例子，我们用如下代码进行仿真：</p>
<pre><code>import random

fenzi = 0

fenmu = 0

for _ in range(1000):

	#0 is girl; 1 is boy

	first = random.randint(0,1)

	second = random.randint(0,1)

	if first == 1 and second == 1:

		continue

	else:

		fenmu += 1

		if first == second:

			fenzi += 1

print 1.0*fenzi/fenmu
</code></pre>
<p>我们对代码进行走读。</p>
<ul>
<li>第 6 行开始，重复循环 1000 次。</li>
<li>第 8～9 行，随机生成两个孩子的性别。用 0 代表女儿，用 1 代表儿子。如果两个孩子都是儿子，则进行下一轮迭代。因为，这并不满足至少有一个女儿的假设条件。</li>
<li>第 12 行开始，如果有女儿，则分母加 1，如果两个孩子的性别一致，则分子也加 1。</li>
<li>最终打印出分子和分母的比值。</li>
</ul>
<p>程序执行的效果如下图所示，结果与我们计算的近似相等：
<img alt="Lark20201117-165128.png" src="assets/Ciqc1F-zj3eAfosoAAIjh42fWgA084.png"/>
当你遇到一个复杂事件的时候，一定要通过串行或并行的两重逻辑进行拆解。再基于加乘法则，利用每个原子粒度事件的概率，合成最终复杂事件发生的概率。</p>
<p>接下来，我们看一些更复杂的问题。</p>
<h3 id="一个概率计算的案例">一个概率计算的案例</h3>
<p>假设大漂亮在某电商公司，负责实时的红包券投放策略。大漂亮设计的投放策略是，如果用户在商品的详情页停留了 1 分钟以上，则认为该用户正在纠结是否购买此商品。此时，给用户实时投放一定金额的红包，来增加用户的购买可能性。</p>
<p>试着分析一下，这里的事件之间的概率关系，以及投放红包到底产生了怎样的概率刺激效果？</p>
<p>可以想象，用户购买某个商品的动作顺序是，点击商品详情页，再付款购买。很显然“点击详情页”和“付款购买”并不是独立的事件，原因在于不点击详情页是无法完成购买动作的，二者存在先后关系。因此 <strong>P(点击并购买) = P(购买|点击) × P(点击)</strong>，这个公式对所有的用户都生效。</p>
<p>接下来，大漂亮的红包投放条件是，用户在商品的详情页停留了 1 分钟以上。此时，产生购买行为的用户就有两部分，分别是使用红包的购买用户和未使用红包的购买用户。很显然，使用红包和不使用红包是两个并行的逻辑，可以采用加法原理进行概率计算，因此有</p>
<p><strong>P(点击并购买) = P(点击并使用红包购买) + P(点击并未使用红包购买)</strong>。</p>
<p>再分别拆解两部分概率，根据乘法原理和条件概率，则有</p>
<p><strong>P(点击并购买) = P(购买|点击并获得红包) × P(获得红包|点击) × P(点击) + P(购买|点击并未获得红包) × P(未获得红包|点击) × P(点击)</strong>。</p>
<p>假设策略上线后，大漂亮根据上线前后的数据，统计得到了每个环节的概率如下表所示：</p>
<p><img alt="Lark20201117-165130.png" src="assets/CgqCHl-zj4WAWvnJAAG9FsQTO-g751.png"/></p>
<p>从表中数据可以发现以下几个结论：</p>
<ul>
<li>投放红包是在点击之后，因此对点击率无影响；</li>
<li>用户点击商品详情页的条件下，获得红包的概率是 0.3，未获得红包的概率是 0.7；</li>
<li>对于未获得红包的用户，其购买率与实验前一致，都是 0.4。对于获得红包的用户，其购买率会上升，达到 0.5。</li>
</ul>
<p>最终，根据公式计算下来，点击并购买的概率由 0.2 提升到了 0.215，这就是红包投放的收益。</p>
<h3 id="小结">小结</h3>
<p>最后，我们对这一讲进行总结。概率的计算是高中和大学数学中有趣又让人头疼的内容，为了学好概率的知识，你不妨牢牢记住下面几个关键点。</p>
<ul>
<li>概率来自统计。当你束手无策时，不妨从多次的重复试验中，统计目标事件出现的频次，来估算概率。</li>
<li>加乘法则是计算概率的有力手腕。对复杂事件按照并行或串行来拆解，再利用加乘法则就可以完成复杂事件的概率计算。</li>
<li>条件概率是处理有关联事件的方法。虽然条件概率有些晦涩，但牢牢记住定义式 P(A|B) = P(AB) / P(B)，就能让条件概率转换为普通事件的概率。在实际应用中，一定要耐着性子，仔细琢磨事件背后的相关关系，再利用这些方法，就能把概率计算清楚。</li>
</ul>
</div>
</div>
<div>
<div id="prePage" style="float: left">
</div>
<div id="nextPage" style="float: right">
</div>
</div>
</div>
</div>
</div>
<div class="copyright">
<hr/>
<p>© 2019 - 2023 <a href="/cdn-cgi/l/email-protection#80ecececb9b4b1b1b0b7c0e7ede1e9ecaee3efed" target="_blank">Liangliang Lee</a>.
                    Powered by <a href="https://github.com/gin-gonic/gin" target="_blank">gin</a> and <a href="https://github.com/kaiiiz/hexo-theme-book" target="_blank">hexo-theme-book</a>.</p>
</div>
</div>
<a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'935939ac1c8cc9b8',t:'MTc0NTUzNTcxNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NPSEEVD756"></script>
<script src="/static/index.js"></script>
</head></html>