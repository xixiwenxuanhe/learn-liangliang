<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="zh-cn" http-equiv="content-language"/>
<meta content="20 实战进阶（二）：如何基于智能音箱开发一个BOT技能？" name="description"/>
<link href="/static/favicon.png" rel="icon"/>
<title>20 实战进阶（二）：如何基于智能音箱开发一个BOT技能？ </title>
<link href="/static/index.css" rel="stylesheet"/>
<link href="/static/highlight.min.css" rel="stylesheet"/>
<script src="/static/highlight.min.js"></script>
<meta content="Hexo 4.2.0" name="generator"/>
<script data-website-id="83e5d5db-9d06-40e3-b780-cbae722fdf8c" defer="" src="https://umami.lianglianglee.com/script.js"></script>
</head>
<body>
<div class="book-container">
<div class="book-sidebar">
<div class="book-brand">
<a href="/">
<img src="/static/favicon.png"/>
<span>技术文章摘抄</span>
</a>
</div>
<div class="book-menu uncollapsible">
<ul class="uncollapsible">
<li><a class="current-tab" href="/">首页</a></li>
<li><a href="../">上一级</a></li>
</ul>
<ul class="uncollapsible">
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/00%20%e5%bc%80%e7%af%87%e8%af%8d%20Serverless%e6%98%af%e9%99%8d%e6%9c%ac%e5%a2%9e%e6%95%88%e6%b5%aa%e6%bd%ae%e4%b8%8b%e7%9a%84%e5%bf%85%e7%84%b6%e9%80%89%e6%8b%a9.md.html" id="00 开篇词 Serverless是降本增效浪潮下的必然选择.md.html">00 开篇词 Serverless是降本增效浪潮下的必然选择.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/00%20%e6%80%9d%e7%bb%b4%e6%9e%84%e5%bb%ba%20%e5%a6%82%e4%bd%95%e5%9c%a8%e6%96%b0%e8%b5%9b%e9%81%93%e4%b8%8b%e8%bf%9b%e9%98%b6Serverless%e8%83%bd%e5%8a%9b%ef%bc%9f.md.html" id="00 思维构建 如何在新赛道下进阶Serverless能力？.md.html">00 思维构建 如何在新赛道下进阶Serverless能力？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/01%20%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%ef%bc%9a%e5%87%bd%e6%95%b0%e8%ae%a1%e7%ae%97%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%b5%81%e7%a8%8b%e6%98%af%e5%a6%82%e4%bd%95%e6%89%a7%e8%a1%8c%e7%9a%84%ef%bc%9f.md.html" id="01 生命周期：函数计算的基本流程是如何执行的？.md.html">01 生命周期：函数计算的基本流程是如何执行的？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/02%20%e8%a7%a6%e5%8f%91%e5%99%a8%ef%bc%9a%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e4%ba%8b%e4%bb%b6%e6%ba%90%e4%b8%8e%e5%87%bd%e6%95%b0%e8%ae%a1%e7%ae%97%e7%9a%84%e7%ba%bd%e5%b8%a6%ef%bc%9f.md.html" id="02 触发器：如何构建事件源与函数计算的纽带？.md.html">02 触发器：如何构建事件源与函数计算的纽带？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/03%20%e9%ab%98%e7%ba%a7%e5%b1%9e%e6%80%a7%ef%bc%9a%e5%ba%94%e5%af%b9%e7%94%9f%e4%ba%a7%e7%ba%a7%e5%88%ab%e7%9a%84%e5%ba%94%e7%94%a8%ef%bc%8c%e4%bd%a0%e9%9c%80%e8%a6%81%e6%8e%8c%e6%8f%a1%e5%93%aa%e4%ba%9b%e6%8a%80%e8%83%bd%ef%bc%9f.md.html" id="03 高级属性：应对生产级别的应用，你需要掌握哪些技能？.md.html">03 高级属性：应对生产级别的应用，你需要掌握哪些技能？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/04%20%e5%86%b7%e5%90%af%e5%8a%a8%ef%bc%9a%e5%a6%82%e4%bd%95%e5%8a%a0%e5%bf%ab%e5%87%bd%e6%95%b0%e7%9a%84%e7%ac%ac%e4%b8%80%e6%ac%a1%e8%b0%83%e7%94%a8%e8%bf%87%e7%a8%8b%ef%bc%9f.md.html" id="04 冷启动：如何加快函数的第一次调用过程？.md.html">04 冷启动：如何加快函数的第一次调用过程？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/05%20%e6%89%a9%e7%bc%a9%e5%ae%b9%ef%bc%9a%e5%a6%82%e4%bd%95%e5%ba%94%e5%af%b9%e6%b5%81%e9%87%8f%e7%9a%84%e6%b3%a2%e5%b3%b0%e6%b3%a2%e8%b0%b7%ef%bc%9f.md.html" id="05 扩缩容：如何应对流量的波峰波谷？.md.html">05 扩缩容：如何应对流量的波峰波谷？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/06%20%e6%b5%81%e9%87%8f%e8%bd%ac%e5%8f%91%ef%bc%9a%e5%87%bd%e6%95%b0%e5%9c%a8%e4%b8%8d%e5%90%8c%e6%83%85%e5%bd%a2%e4%b8%8b%e6%98%af%e5%a6%82%e4%bd%95%e6%89%a7%e8%a1%8c%e7%9a%84%ef%bc%9f.md.html" id="06 流量转发：函数在不同情形下是如何执行的？.md.html">06 流量转发：函数在不同情形下是如何执行的？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/07%20%e8%bf%90%e8%a1%8c%e6%97%b6%ef%bc%88%e4%b8%8a%ef%bc%89%ef%bc%9a%e4%b8%8d%e5%90%8c%e8%af%ad%e8%a8%80%e5%bd%a2%e6%80%81%e4%b8%8b%e7%9a%84%e5%87%bd%e6%95%b0%e5%9c%a8%e5%ae%b9%e5%99%a8%e4%b8%ad%e6%98%af%e5%a6%82%e4%bd%95%e6%89%a7%e8%a1%8c%e7%9a%84%ef%bc%9f.md.html" id="07 运行时（上）：不同语言形态下的函数在容器中是如何执行的？.md.html">07 运行时（上）：不同语言形态下的函数在容器中是如何执行的？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/08%20%e8%bf%90%e8%a1%8c%e6%97%b6%ef%bc%88%e4%b8%8b%ef%bc%89%ef%bc%9a%e4%b8%8d%e5%90%8c%e8%af%ad%e8%a8%80%e5%bd%a2%e6%80%81%e4%b8%8b%e7%9a%84%e5%87%bd%e6%95%b0%e5%9c%a8%e5%ae%b9%e5%99%a8%e4%b8%ad%e6%98%af%e5%a6%82%e4%bd%95%e6%89%a7%e8%a1%8c%e7%9a%84%ef%bc%9f.md.html" id="08 运行时（下）：不同语言形态下的函数在容器中是如何执行的？.md.html">08 运行时（下）：不同语言形态下的函数在容器中是如何执行的？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/09%20%e5%b0%8f%e8%af%95%e7%89%9b%e5%88%80%ef%bc%88%e4%b8%80%ef%bc%89%ef%bc%9a%e5%a6%82%e4%bd%95%e5%88%a9%e7%94%a8%e5%87%bd%e6%95%b0%e4%b9%8b%e9%97%b4%e7%9a%84%e8%b0%83%e7%94%a8%e8%a7%a3%e5%86%b3%e4%b8%9a%e5%8a%a1%e9%97%ae%e9%a2%98%ef%bc%9f.md.html" id="09 小试牛刀（一）：如何利用函数之间的调用解决业务问题？.md.html">09 小试牛刀（一）：如何利用函数之间的调用解决业务问题？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/10%20%e5%b0%8f%e8%af%95%e7%89%9b%e5%88%80%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e5%a6%82%e4%bd%95%e7%aa%81%e7%a0%b4VPC%e7%bd%91%e7%bb%9c%e7%9a%84%e9%80%9f%e5%ba%a6%e9%99%90%e5%88%b6%ef%bc%9f.md.html" id="10 小试牛刀（二）：如何突破VPC网络的速度限制？.md.html">10 小试牛刀（二）：如何突破VPC网络的速度限制？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/11%20WebIDE%ef%bc%9a%e5%a6%82%e4%bd%95%e8%ae%a9%e5%87%bd%e6%95%b0%e8%bf%9c%e7%a6%bb%e7%b9%81%e7%90%90%e7%9a%84%e6%9c%ac%e5%9c%b0%e5%bc%80%e5%8f%91%e6%a8%a1%e5%bc%8f%ef%bc%9f.md.html" id="11 WebIDE：如何让函数远离繁琐的本地开发模式？.md.html">11 WebIDE：如何让函数远离繁琐的本地开发模式？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/12%20%e7%bc%96%e6%8e%92%ef%bc%9a%e5%a6%82%e4%bd%95%e5%8d%8f%e8%b0%83%e5%a4%9a%e4%bb%bb%e5%8a%a1%e7%9a%84%e8%bf%90%e8%a1%8c%ef%bc%9f.md.html" id="12 编排：如何协调多任务的运行？.md.html">12 编排：如何协调多任务的运行？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/13%20%e5%8f%af%e8%a7%82%e6%b5%8b%ef%bc%88%e4%b8%8a%ef%bc%89%ef%bc%9a%20%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%a4%9a%e7%bb%b4%e5%ba%a6%e8%a7%86%e8%a7%92%e4%b8%8b%e7%9a%84Serverless%e7%9b%91%e6%b5%8b%e4%bd%93%e7%b3%bb%ef%bc%9f.md.html" id="13 可观测（上）： 如何构建多维度视角下的Serverless监测体系？.md.html">13 可观测（上）： 如何构建多维度视角下的Serverless监测体系？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/14%20%e5%8f%af%e8%a7%82%e6%b5%8b%ef%bc%88%e4%b8%8b%ef%bc%89%ef%bc%9a%20%e5%a6%82%e4%bd%95%e6%9e%84%e5%bb%ba%e5%a4%9a%e7%bb%b4%e5%ba%a6%e8%a7%86%e8%a7%92%e4%b8%8b%e7%9a%84Serverless%e7%9b%91%e6%b5%8b%e4%bd%93%e7%b3%bb%ef%bc%9f.md.html" id="14 可观测（下）： 如何构建多维度视角下的Serverless监测体系？.md.html">14 可观测（下）： 如何构建多维度视角下的Serverless监测体系？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/15%20%e9%80%89%e5%9e%8b%ef%bc%9a%e4%b8%8d%e5%90%8c%e9%98%b6%e6%ae%b5%e7%9a%84%e6%95%b0%e6%8d%ae%e5%ba%94%e5%a6%82%e4%bd%95%e5%ad%98%e5%82%a8%ef%bc%9f.md.html" id="15 选型：不同阶段的数据应如何存储？.md.html">15 选型：不同阶段的数据应如何存储？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/16%20%e5%8a%a8%e6%89%8b%e4%bd%93%e9%aa%8c%ef%bc%88%e4%b8%80%ef%bc%89%ef%bc%9a%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e4%b8%9a%e5%8a%a1%e9%ab%98%e6%95%88%e7%8e%87%e5%9c%b0%e5%bc%80%e5%8f%91%e4%b8%8a%e7%ba%bf%ef%bc%9f.md.html" id="16 动手体验（一）：如何实现业务高效率地开发上线？.md.html">16 动手体验（一）：如何实现业务高效率地开发上线？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/17%20%e5%8a%a8%e6%89%8b%e4%bd%93%e9%aa%8c%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e5%a6%82%e4%bd%95%e5%9c%a8%e4%ba%91%e5%87%bd%e6%95%b0%e5%9c%ba%e6%99%af%e4%b8%8b%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e6%9c%89%e7%8a%b6%e6%80%81%e7%9a%84%e6%9c%8d%e5%8a%a1%ef%bc%9f.md.html" id="17 动手体验（二）：如何在云函数场景下实现一个有状态的服务？.md.html">17 动手体验（二）：如何在云函数场景下实现一个有状态的服务？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/18%20%e5%ae%9e%e6%88%98%e6%8c%87%e5%8d%97%ef%bc%9aServerless%e6%b2%99%e5%9c%ba%e8%80%81%e5%85%b5%e7%9a%84%e4%b8%80%e7%ba%bf%e4%bd%bf%e7%94%a8%e7%bb%8f%e9%aa%8c.md.html" id="18 实战指南：Serverless沙场老兵的一线使用经验.md.html">18 实战指南：Serverless沙场老兵的一线使用经验.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/19%20%e5%ae%9e%e6%88%98%e8%bf%9b%e9%98%b6%ef%bc%88%e4%b8%80%ef%bc%89%ef%bc%9aServerless%20%e2%80%9c%e8%bf%9e%e6%8e%a5%e5%99%a8%e2%80%9d%20%e7%9a%84%e8%83%bd%e5%8a%9b%e5%88%b0%e5%ba%95%e6%9c%89%e5%a4%9a%e5%a4%a7%ef%bc%9f.md.html" id="19 实战进阶（一）：Serverless “连接器” 的能力到底有多大？.md.html">19 实战进阶（一）：Serverless “连接器” 的能力到底有多大？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/20%20%e5%ae%9e%e6%88%98%e8%bf%9b%e9%98%b6%ef%bc%88%e4%ba%8c%ef%bc%89%ef%bc%9a%e5%a6%82%e4%bd%95%e5%9f%ba%e4%ba%8e%e6%99%ba%e8%83%bd%e9%9f%b3%e7%ae%b1%e5%bc%80%e5%8f%91%e4%b8%80%e4%b8%aaBOT%e6%8a%80%e8%83%bd%ef%bc%9f.md.html" id="20 实战进阶（二）：如何基于智能音箱开发一个BOT技能？.md.html">20 实战进阶（二）：如何基于智能音箱开发一个BOT技能？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/21%20%e5%ae%9e%e6%88%98%e8%bf%9b%e9%98%b6%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e4%bc%a0%e7%bb%9f%e7%9a%84%e6%9c%8d%e5%8a%a1%e5%a6%82%e4%bd%95%e8%bf%81%e7%a7%bb%e5%88%b0Serverless%e5%b9%b3%e5%8f%b0%ef%bc%9f.md.html" id="21 实战进阶（三）：传统的服务如何迁移到Serverless平台？.md.html">21 实战进阶（三）：传统的服务如何迁移到Serverless平台？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/22%20%e7%a7%81%e6%9c%89%e4%ba%91%ef%bc%9a%e8%b5%9b%e9%a9%ac%e6%97%b6%e4%bb%a3%e7%9a%84Serverless%e6%a0%b8%e5%bf%83%e5%bc%95%e6%93%8e%e8%b0%81%e8%83%bd%e8%83%9c%e5%87%ba%ef%bc%9f.md.html" id="22 私有云：赛马时代的Serverless核心引擎谁能胜出？.md.html">22 私有云：赛马时代的Serverless核心引擎谁能胜出？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/23%20%e5%ae%9e%e6%88%98%e8%bf%9b%e9%98%b6%ef%bc%88%e5%9b%9b%ef%bc%89%ef%bc%9a%e5%a6%82%e4%bd%95%e4%bb%8e0%e5%88%b01%e8%bf%9b%e9%98%b6%e4%b8%80%e4%b8%aa%e5%bc%80%e6%ba%90%e5%bc%95%e6%93%8e%ef%bc%9f.md.html" id="23 实战进阶（四）：如何从0到1进阶一个开源引擎？.md.html">23 实战进阶（四）：如何从0到1进阶一个开源引擎？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/24%20%e5%ae%9e%e6%88%98%e8%bf%9b%e9%98%b6%ef%bc%88%e4%ba%94%ef%bc%89%ef%bc%9a%e5%a6%82%e4%bd%95%e4%bb%8eServerless%e5%bc%95%e6%93%8e%e8%9c%95%e5%8f%98%e6%88%90%e4%b8%80%e4%b8%aaServerless%e5%b9%b3%e5%8f%b0%ef%bc%9f.md.html" id="24 实战进阶（五）：如何从Serverless引擎蜕变成一个Serverless平台？.md.html">24 实战进阶（五）：如何从Serverless引擎蜕变成一个Serverless平台？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/Serverless%e8%bf%9b%e9%98%b6%e5%ae%9e%e6%88%98%e8%af%be/%e7%bb%93%e6%9d%9f%e8%af%ad%20%e5%9c%a8%e5%ae%9e%e6%88%98%e4%b8%ad%e6%8a%8a%e6%8f%a1%e4%ba%8b%e7%89%a9%e6%9c%ac%e8%b4%a8%ef%bc%8c%e4%b8%8d%e6%96%ad%e9%9d%a9%e6%96%b0.md.html" id="结束语 在实战中把握事物本质，不断革新.md.html">结束语 在实战中把握事物本质，不断革新.md.html</a>
</li>
<li><a href="/assets/捐赠.md.html">捐赠</a></li>
</ul>
</div>
</div>
<div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseleave="remove_inner()" onmouseover="add_inner()">
<div class="sidebar-toggle-inner"></div>
</div>
<div class="off-canvas-content">
<div class="columns">
<div class="column col-12 col-lg-12">
<div class="book-navbar">
<header class="navbar">
<section class="navbar-section">
<a onclick="open_sidebar()">
<i class="icon icon-menu"></i>
</a>
</section>
</header>
</div>
<div class="book-content" style="max-width: 960px; margin: 0 auto;
    overflow-x: auto;
    overflow-y: hidden;">
<div class="book-post">
<div align="center">因收到Google相关通知，网站将会择期关闭。<a href="https://lumendatabase.org/notices/44265620" target="_blank">相关通知内容</a><hr/></div>
<p align="center" id="tip"></p>
<h1 class="title" data-id="20 实战进阶（二）：如何基于智能音箱开发一个BOT技能？" id="title">20 实战进阶（二）：如何基于智能音箱开发一个BOT技能？</h1>
<div><p>你好，我是静远。</p>
<p>上节课，我们一起感受了FaaS 作为Serverless “连接器”的强大，但也仅限于云厂商单个云平台上的体验。</p>
<p>今天，我将带你体验跨平台的开发，通过智能音箱、IOT 开发平台、云函数计算平台三者之间的联动，一起完成一个不同年龄段宝宝食谱推荐BOT技能的开发。</p>
<p>你也可以通过这样的方式，完成<strong>智能客服、智能问答等对话式应用</strong>的开发。通过这个实战，相信你能进一步感受到Serverless的无限可能。</p>
<h2 id="如何实现">如何实现</h2>
<p>我们本次的目标是通过语音对话的方式来完成宝宝食谱的推荐。这个功能符合Serverless的特性：事件触发、轻量应用、按需调用、流量不固定。同时，该功能需要有语音转文字的处理能力以及一个物理载体。</p>
<p>因此，我们以<a href="https://cloud.baidu.com/product/cfc.html" target="_blank">百度智能云函数计算平台</a>、<a href="https://dueros.baidu.com/dbp/main/console" target="_blank">百度DuerOS开放平台</a>来进行本次的案例开发，并选择一个小度X8作为载体。当然，你也可以直接用DuerOS平台上的<a href="https://dueros.baidu.com/didp/doc/dueros-bot-platform/dbp-quickstart/skills-test-sample_markdown" target="_blank">模拟测试工具</a>达到一样的效果。</p>
<p>正所谓磨刀不误砍柴工，在开始实战之前，我们先了解一下今天涉及到的各类概念以及整体的实现思路。</p>
<h3 id="什么是技能-bot"><strong>什么是技能</strong><strong>（BOT）</strong><strong>？</strong></h3>
<p>我们通常将<strong>在DuerOS平台上开发的对话式服务</strong>称为“技能”，它还有一个英文名，“BOT”。一般来说，平台有内置技能和开发者提交发布的两种技能。前者可以直接拿来用，后者分为免费和收费两种，收费的技能和你在小度音箱上看到的一样，是需要支付购买才能使用的。</p>
<p>一个技能通常由4个重要部分组成，我们的动手实战中都会涉及到。</p>
<ol>
<li><strong>意图</strong>：指技能要满足的用户请求或目的。比如这次的意图就是给不同年龄段的宝宝推荐食谱，由“常用表达语”“槽位信息”等组成；</li>
<li><strong>词典</strong>：是某领域词汇的集合，也是用户与技能交互过程中的重要信息。比如我们本次实验中需要识别的关键词“年龄”就是一个词典中的词条，对应英文识别为number。为了方面开发者，DuerOS在词典中内置了不少词条，比如这里的number就是sys.number；</li>
<li><strong>用户表达</strong>：是用户表达意图时具体的样例，它是组成意图的关键。用户表达样例越多，意图识别能力越强。槽位信息就是从用户表达语句中提取出的关键信息，并能够将这些关键信息和词典一一匹配。比如“3岁宝宝吃什么”就是一句用户表达，提取的槽位标识是number，数值是3，对应的词典是sys.number；</li>
<li><strong>配置服务</strong>：技能创建成功后，需要部署到云服务上，我们配置函数计算的入口函数标识BRN就可以了。BRN可以在函数计算平台上的函数基本信息展示里获取到。如“brn:bce:cfc:bj:*******:function:babaycook:$LATEST”。</li>
</ol>
<h3 id="实现思路">实现思路</h3>
<p>接下来，我们看联动示意图，感知一下“宝宝食谱”技能通过设备和平台实现交互的过程。</p>
<p><img alt="图片" src="assets/b92d77c142eb4976b32bd90555eae4d3.jpg"/></p>
<p>如图所示，小度音箱在收到语音输入后，如“小度小度，宝宝能吃什么？”，会通过既定协议请求DuerOS平台，通过DuerOS触发器触发函数计算CFC的执行。之后，你编写好的处理逻辑就会按照指令输出返回给DuerOS平台，并通过语音的方式在小度音箱播放。</p>
<p>这里使用的DuerOS触发器是百度CFC平台特有的一种触发器类型，用于和DuerOS联动，当然，你也可以自定义任何的<a href="https://time.geekbang.org/column/article/560737" target="_blank">触发器</a>。</p>
<p>如果涉及到存储，你可以选择云上的存储资源来使用，如Redis、RDS等等，这些也都在之前的课程中讲到过，相信你已经驾轻就熟了。</p>
<p>接下来，我带你来梳理一下开发的实现思路，我把整个过程划分为3大步骤。</p>
<p><strong>步骤一，云函数创建与自定义</strong>：你需要在CFC管理端选择一个合适的模板，快速创建一个DuerOS的初始函数，完成函数的开发和配置，最后设置触发器和配置日志存储就可以了。</p>
<p><strong>步骤二，技能创建与绑定</strong>：在DuerOS平台选择一个技能模板，并设置相应的元信息，根据你的诉求，设置意图和词典、话术场景配置等等。最后绑定CFC函数的时候，将函数入口的BRN拷贝到DuerOS平台即可。</p>
<p><strong>步骤三</strong><strong>，</strong><strong>运行时请求路由</strong>：其实这一步，不需要你做什么，直接体验就行。但如果你想发布到智能音箱上，还需要在控制台发布。发布之后，你就可以通过音箱来体验了。</p>
<p>整个流程你也可以对着下面的架构示意图梳理一遍。</p>
<p><img alt="图片" src="assets/264f3f7c7c064b40bbf38d5d64c71481.jpg"/></p>
<h2 id="动手实战">动手实战</h2>
<p>下面，我们就可以根据上面的思路开始动手实现不同年龄段宝宝食谱推荐BOT技能的开发了。</p>
<h3 id="云函数创建和定义">云函数创建和定义</h3>
<p>首先，我们在函数计算平台CFC上创建一个函数，就本案例来说，为了便于你熟悉DuerOS的处理方式，可以选择一个模板来生成，比如我这里选择“dueros-bot-tax”来做案例演示。</p>
<p><img alt="图片" src="assets/b3a81377750e430fbfcb80fde3922385.jpg"/></p>
<p>然后，输入相关的函数元信息，这里函数名为“baby_recipe”。</p>
<p><img alt="图片" src="assets/2f022017c8d5450284cd51743c0a7fb2.jpg"/></p>
<p>我们先不用关心模板代码是什么，先继续创建触发器。这里需要选择DuerOS触发器来对接小度音箱的请求。</p>
<p><img alt="图片" src="assets/bdd8770aae6146cfa473939b5e4c1c84.jpg"/></p>
<p>好了，到这里，一个小度处理的函数就搞定了。接下来，我们就基于模板编写自己的业务逻辑代码。</p>
<p>这里需要注意一下，生成的模板代码中，在文件的开头，有一段PUBLIC KEY需要复制到DuerOS平台。先不要急，我们继续关注代码。</p>
<pre><code class="language-javascript">*/
/**
 * @file   index.js 此文件是函数入口文件，用于接收函数请求调用
 * @author dueros
 */
const Bot = require('bot-sdk');
const privateKey = require('./rsaKeys.js').privateKey;
 
class InquiryBot extends Bot {
    constructor(postData) {
        super(postData);
 
        this.addLaunchHandler(() =&gt; {
            this.waitAnswer();
            return {
                outputSpeech: '欢迎使用小宝宝食谱推荐!'
            };
        });
 
        this.addSessionEndedHandler(() =&gt; {
            this.endSession();
            return {
                outputSpeech: '多谢使用小宝宝食谱推荐!'
            };
        });
 
        this.addIntentHandler('babyCookBooks', () =&gt; {
            let ageVar = this.getSlot('number');
            if (!ageVar) {
                this.nlu.ask('number');
                let card = new Bot.Card.TextCard('宝宝几岁了呢');
                // 可以返回异步 Promise
                return Promise.resolve({
                    card: card,
                    outputSpeech: '宝宝几岁了呢'
                });
            }
 
            if (this.request.isDialogStateCompleted()) {
               
                let cook_1 = '母乳为主，可以混合牛奶，建议辅以虾仁碎沫或者菜沫等';
                let cook_3 = '可以吃富含蛋白质的食物如：鸡蛋，瘦肉。也可以吃富含维生素的食物:如芹菜、菠菜。';
 
                var speechOutput = cook_1;
 
                if(ageVar &gt; 1 ) {
                    speechOutput = cook_3;
                }
           
                let card = new Bot.Card.TextCard(speechOutput);
               
                return {
                    card: card,
                    outputSpeech: speechOutput
                };
            }
        });
    }
}
 
exports.handler = function (event, context, callback) {
    try {
        let b = new InquiryBot(event);
        // 0: debug  1: online
        b.botMonitor.setEnvironmentInfo(privateKey, 0);
        b.botMonitor.setMonitorEnabled(true);
        b.run().then(function (result) {
            callback(null, result);
        }).catch(callback);
    }
    catch (e) {
        callback(e);
    }
};
 
</code></pre>
<p>代码中，我们主要关注的是意图的处理入口this.addIntentHandler(‘babyCookBooks’)，其中“babyCookBooks”是在DuerOS技能平台创建技能的时候，需要填写的意图名称，你也可以按照后续自己定义的技能名称来修改。</p>
<p>接下来的代码部分，为了理解方便，我引入了一个宝宝菜谱推荐的简单判断，你可以在这之上添加更丰富的功能。将复杂的功能抽离出来，然后引入调用，就能实现比较完整的技能了。</p>
<h3 id="技能创建与绑定">技能创建与绑定</h3>
<p>接下来就是创建技能了。进入<a href="https://dueros.baidu.com/dbp/main/console" target="_blank">DuerOS技能开放平台</a>，点击授权，点击创建新技能。</p>
<p><img alt="图片" src="assets/fb51ec55d29846cbaf6356f0e3c5337e.jpg"/></p>
<p>选择“自定义技能”，“从头开始”。</p>
<p><img alt="图片" src="assets/3dcd9d2b6bff46cf92a280f7a20c26bb.jpg"/></p>
<p>下拉页面，在“技能名称”和“调用名称”部分输入“宝宝食谱推荐”，应用场景选择有屏和无屏场景，点击确定：</p>
<p><img alt="图片" src="assets/d27e979c453242c3aabfd24565730f7e.jpg"/></p>
<p>接下来，继续创建意图：</p>
<p><img alt="图片" src="assets/f376081963aa4a5fa23ecef73aaad83a.jpg"/></p>
<p>这里，我们需要注意两点。</p>
<p>第一，意图识别名的填写，需要跟你在函数计算CFC中addIntentHandler设置的名称保持一致。</p>
<p>第二，<a href="https://dueros.baidu.com/didp/doc/dueros-bot-platform/dbp-nlu/intents_markdown" target="_blank">表达式和槽位</a>比较关键。不同用户的表达形式不同，我们需要确保常用表达覆盖尽可能多的用户口语表达，这样意图识别就会更加准确。DuerOS平台可以通过表达式提取出槽位信息，你也可以手动核准和纠正。</p>
<p>槽位是意图的参数信息，是非常关键的一环，我们在代码里面获取到的参数就是槽位标识。更多关于技能的使用方法，如果你感兴趣的话，也可以在DuerOS开发平台深入了解。</p>
<p><img alt="图片" src="assets/a5465aeb14ba428f9cd8bca3f07e1762.jpg"/></p>
<p>接着，我们来关联技能与后端的服务。我们选用百度CFC作为服务部署，<strong>依次拷贝函数计算代码中的PUBLIC KEY</strong><strong>以及</strong><strong>函数的唯一标识BRN到“配置服务”页面的“Public Key”和“BRN”框中。</strong></p>
<p><img alt="图片" src="assets/138b8a0d275c4bd8bb632b24be6bd29b.jpg"/></p>
<h3 id="测试与发布">测试与发布</h3>
<p>到这里，我们就完成了云函数的创建和定义，技能创建与绑定两个关键的步骤。最后，我们来测试一下程序是否能够正常运行。</p>
<p>我们可以选择模拟测试或者真机测试两种方法。假如你身边暂时没有小度音箱，可以选择模拟测试来验证一下。我们打开“模拟测试”，选择“小度在家”，输入“打开宝宝食谱推荐”这个技能。</p>
<p><img alt="图片" src="assets/87e26a9da06f49cda703f01d1417178f.jpg"/></p>
<p>你会看到，小度的屏幕上出现了我们刚才代码中的欢迎语“欢迎使用小宝宝食谱推荐”。</p>
<p><img alt="图片" src="assets/fabd245f40e34af6b5c553751d1553ce.jpg"/></p>
<p>接着，我们输入“1岁宝宝吃什么”，会发现技能服务给我们返回的正是代码中“1岁宝宝的食谱推荐”用语：“母乳为主，可以混合牛奶，建议辅以虾仁碎沫或者菜沫等”。</p>
<p><img alt="图片" src="assets/07eeee8964684f38bd7c4d3dc175c278.jpg"/></p>
<p>假如你的身边有小度音箱，也可以选择“真机测试”，打开“技能调试模式”。这里要注意的是，你登录的DuerOS平台的账号一定要和登录小度智能音箱的账号一致。</p>
<p><img alt="图片" src="assets/3726d375fe0c47be8c989af79cf34877.jpg"/></p>
<p>我们来看一段视频，感受一下通过函数计算实现的技能：</p>
<p>最后，经过精修和加工后的程序，也可以正式发布出来分享给其他用户。</p>
<h2 id="小结">小结</h2>
<p>最后我们来小结一下，今天这节课我们通过联动智能音箱、DuerOS技能开放平台、云函数计算CFC一起完成了一个宝宝食谱BOT技能的开发体验。</p>
<p>通过这次的实验，我们可以发现，一个基于Serverless和语音交互的对话式应用开发，主要包括如下三个步骤：</p>
<p>步骤一，构建一个符合业务场景的Serverless应用，你可以使用函数打包或者镜像的方式完成开发和上线，如本案例中的宝宝食谱函数服务；</p>
<p>步骤二，构建一个交互技能的意图，设置好语音交互规则，如本案例中的宝宝食谱意图；</p>
<p>步骤三，构建技能和函数的触发绑定。如本案例中创建DuerOS触发器的过程。</p>
<p>基于这三个流程和延伸，由于DuerOS的开源开放，可以广泛支持手机、电视、音箱、汽车、机器人等多种硬件设备，我们还可以用来开发智能客服、居家电器控制、智能助理等多种对话式应用，通过DuerOS与Serverless函数计算的结合，可以进一步降低健康、金融、酒旅、电信等各行各业使用人工智能对话系统的门槛。</p>
<p>其实，各大云厂商在基于Serverless的生态集成上都有非常丰富的经验和成熟的产品，如果你的业务已经在云上，那么可以挖掘一下哪些场景还可以用起来，进一步减少运维和处理带来的工作量；如果你的业务暂时还没有上云，这种开放集成和Serverless本身所体现出的这种思想，希望你也能在现有的工作中灵活运用起来。</p>
<p>最后，这节课虽然是实验课，但我最想跟你交流的，是这次实验背后的两个感悟。一个是发散思维很重要，我们可以有意识地将身边的需求和技术联系起来，活学活用Serverless；另一方面，在工作生活压力比较大的现在，<strong>作为码农的我们，</strong><strong>也可以</strong><strong>运用自己的技术，给孩子带来成长的快乐</strong>，还可能会带来一份收入，在这么“卷”的当下，是不是也能感受到不一样的幸福呢？</p>
<h2 id="思考题">思考题</h2>
<p>好了，这节课到这里也就结束了，最后我给你留了一个思考题。</p>
<p>少儿编程的后端服务是否可以采用Serverless的技术？哪些地方可以用到函数计算，哪些可以用弹性应用托管服务更合适？</p>
<p>欢迎在留言区写下你的思考和答案，我们一起交流讨论。</p>
<p>感谢你的阅读，也欢迎你把这节课分享给更多的朋友一起阅读。</p>
</div>
</div>
<div>
<div id="prePage" style="float: left">
</div>
<div id="nextPage" style="float: right">
</div>
</div>
</div>
</div>
</div>
<div class="copyright">
<hr/>
<p>© 2019 - 2023 <a href="/cdn-cgi/l/email-protection#96fafafaafa2a7a7a6a1d6f1fbf7fffab8f5f9fb" target="_blank">Liangliang Lee</a>.
                    Powered by <a href="https://github.com/gin-gonic/gin" target="_blank">gin</a> and <a href="https://github.com/kaiiiz/hexo-theme-book" target="_blank">hexo-theme-book</a>.</p>
</div>
</div>
<a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'935a150c8c2b379e',t:'MTc0NTU0NDcwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NPSEEVD756"></script>
<script src="/static/index.js"></script>
</head></html>