<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<meta content="zh-cn" http-equiv="content-language"/>
<meta content="03 淘宝HSF：能让淘宝出重大故障的就那批人" name="description"/>
<link href="/static/favicon.png" rel="icon"/>
<title>03 淘宝HSF：能让淘宝出重大故障的就那批人 </title>
<link href="/static/index.css" rel="stylesheet"/>
<link href="/static/highlight.min.css" rel="stylesheet"/>
<script src="/static/highlight.min.js"></script>
<meta content="Hexo 4.2.0" name="generator"/>
<script data-website-id="83e5d5db-9d06-40e3-b780-cbae722fdf8c" defer="" src="https://umami.lianglianglee.com/script.js"></script>
</head>
<body>
<div class="book-container">
<div class="book-sidebar">
<div class="book-brand">
<a href="/">
<img src="/static/favicon.png"/>
<span>技术文章摘抄</span>
</a>
</div>
<div class="book-menu uncollapsible">
<ul class="uncollapsible">
<li><a class="current-tab" href="/">首页</a></li>
<li><a href="../">上一级</a></li>
</ul>
<ul class="uncollapsible">
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/01%20%e5%b0%8f%e5%8e%82%e9%a1%b9%e7%9b%ae%ef%bc%9a%e5%81%9a%e7%a8%8b%e5%ba%8f%e5%91%98%e4%b8%8d%e9%9a%be%ef%bc%8c%e9%9a%be%e7%9a%84%e6%98%af%e5%81%9a%e8%81%8c%e4%b8%9a%e7%a8%8b%e5%ba%8f%e5%91%98.md.html" id="01 小厂项目：做程序员不难，难的是做职业程序员.md.html">01 小厂项目：做程序员不难，难的是做职业程序员.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/02%20%e5%b0%8f%e5%8e%82%e5%88%9b%e4%b8%9a%ef%bc%9a%e5%81%9a%e5%87%ba%e4%b8%80%e4%b8%aa%e4%ba%a7%e5%93%81%ef%bc%8c%e5%8d%96%e7%bb%99%e6%89%80%e6%9c%89%e4%ba%ba.md.html" id="02 小厂创业：做出一个产品，卖给所有人.md.html">02 小厂创业：做出一个产品，卖给所有人.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/03%20%e6%b7%98%e5%ae%9dHSF%ef%bc%9a%e8%83%bd%e8%ae%a9%e6%b7%98%e5%ae%9d%e5%87%ba%e9%87%8d%e5%a4%a7%e6%95%85%e9%9a%9c%e7%9a%84%e5%b0%b1%e9%82%a3%e6%89%b9%e4%ba%ba.md.html" id="03 淘宝HSF：能让淘宝出重大故障的就那批人.md.html">03 淘宝HSF：能让淘宝出重大故障的就那批人.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/04%20%e6%b7%98%e5%ae%9d%e6%b6%88%e9%98%b2%e9%98%9f%ef%bc%9a%e7%9c%9f%e6%ad%a3%e6%9c%80%e4%bc%98%e7%a7%80%e7%9a%84%e7%a8%8b%e5%ba%8f%e5%91%98%e4%b8%8d%e5%ba%94%e8%af%a5%e6%98%af%e8%8b%b1%e9%9b%84.md.html" id="04 淘宝消防队：真正最优秀的程序员不应该是英雄.md.html">04 淘宝消防队：真正最优秀的程序员不应该是英雄.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/05%20HBase_T4%ef%bc%9aLeader%e6%9c%80%e9%87%8d%e8%a6%81%e7%9a%84%ef%bc%8c%e8%af%b4%e7%99%bd%e4%ba%86%e6%98%af%e8%a6%81%e8%b5%8c%e6%9c%aa%e6%9d%a5.md.html" id="05 HBase_T4：Leader最重要的，说白了是要赌未来.md.html">05 HBase_T4：Leader最重要的，说白了是要赌未来.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/06%20%e5%bc%82%e5%9c%b0%e5%a4%9a%e6%b4%bb%ef%bc%9a%e6%8a%80%e6%9c%af%e5%9c%88%e5%ad%90%e7%9a%84%e4%ba%ba%ef%bc%8c%e8%a7%81%e8%bf%87%e7%8c%aa%e8%b7%91%e5%be%88%e9%87%8d%e8%a6%81.md.html" id="06 异地多活：技术圈子的人，见过猪跑很重要.md.html">06 异地多活：技术圈子的人，见过猪跑很重要.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/07%20%e8%bf%90%e7%bb%b4%e5%9b%a2%e9%98%9f%ef%bc%9a%e6%88%91%e8%83%bd%e5%b9%b2%ef%bc%8c%e5%8f%aa%e6%98%af%e6%88%91%e4%b8%8d%e6%83%b3%e5%b9%b2%e8%80%8c%e5%b7%b2.md.html" id="07 运维团队：我能干，只是我不想干而已.md.html">07 运维团队：我能干，只是我不想干而已.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/08%20%e5%9f%ba%e7%a1%80%e5%9b%a2%e9%98%9f%ef%bc%9a%e7%a0%94%e5%8f%91%e6%95%88%e8%83%bd%e9%83%a8%e9%97%a8%ef%bc%8c%e8%a7%a3%e5%86%b3%e4%b8%8d%e4%ba%86%e7%a0%94%e5%8f%91%e6%95%88%e8%83%bd%e9%97%ae%e9%a2%98.md.html" id="08 基础团队：研发效能部门，解决不了研发效能问题.md.html">08 基础团队：研发效能部门，解决不了研发效能问题.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/09%20%e7%bb%9f%e4%b8%80%e8%b0%83%e5%ba%a6%ef%bc%9a%e5%8f%aa%e6%98%af%e9%97%ae%e9%a2%98%e9%9d%9e%e5%b8%b8%e5%a4%9a%e8%80%8c%e5%b7%b2%ef%bc%8c%e6%91%94%e5%87%ba%e6%9d%a5%e5%b0%b1%e8%a1%8c%e4%ba%86.md.html" id="09 统一调度：只是问题非常多而已，摔出来就行了.md.html">09 统一调度：只是问题非常多而已，摔出来就行了.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/10%20%e5%87%ba%e8%b5%b0%e5%a4%a7%e5%8e%82%ef%bc%9a%e7%a6%bb%e8%81%8c%ef%bc%9f%e8%bf%98%e6%98%af%e4%b8%8d%e7%a6%bb%e8%81%8c%ef%bc%9f%e8%bf%99%e6%98%af%e4%b8%80%e4%b8%aa%e9%97%ae%e9%a2%98.md.html" id="10 出走大厂：离职？还是不离职？这是一个问题.md.html">10 出走大厂：离职？还是不离职？这是一个问题.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/11%20CEO%e5%bf%83%e5%be%97%ef%bc%9a%e5%a4%a7%e5%8e%82%e5%87%ba%e6%9d%a5%e5%88%9b%e4%b8%9a%ef%bc%8c%e6%9c%80%e5%a4%a7%e9%97%ae%e9%a2%98%e6%98%af%e5%af%b9%e9%92%b1%e6%b2%a1%e6%a6%82%e5%bf%b5.md.html" id="11 CEO心得：大厂出来创业，最大问题是对钱没概念.md.html">11 CEO心得：大厂出来创业，最大问题是对钱没概念.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/%e5%9b%a2%e9%98%9f%ef%bc%9a%e5%9c%a8%e4%ba%ba%e8%ba%ab%e4%b8%8a%ef%bc%8c%e4%bd%a0%e5%88%b0%e5%ba%95%e6%84%bf%e6%84%8f%e8%8a%b1%e5%a4%9a%e5%a4%a7%e7%b2%be%e5%8a%9b%ef%bc%9f.md.html" id="团队：在人身上，你到底愿意花多大精力？.md.html">团队：在人身上，你到底愿意花多大精力？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/%e5%bc%80%e7%af%87%e8%af%8d%20%e8%bf%99%e4%b8%80%e6%ac%a1%ef%bc%8c%e6%88%91%e4%bb%ac%e6%9d%a5%e9%87%87%e8%ae%bf%e6%af%95%e7%8e%84.md.html" id="开篇词 这一次，我们来采访毕玄.md.html">开篇词 这一次，我们来采访毕玄.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/%e6%88%90%e4%ba%8b%ef%bc%9a%e6%8a%80%e6%9c%af%e4%ba%ba%e6%9c%80%e5%a4%a7%e7%9a%84%e9%97%ae%e9%a2%98%e5%b0%b1%e6%98%af%e6%83%85%e6%80%80%e5%8c%96.md.html" id="成事：技术人最大的问题就是情怀化.md.html">成事：技术人最大的问题就是情怀化.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/%e6%96%87%e5%8c%96%ef%bc%9a%e4%bd%a0%e6%89%80%e5%9c%a8%e7%9a%84%e5%9b%a2%e9%98%9f%ef%bc%8c%e6%9c%89%e5%a4%9a%e5%b0%91%e4%ba%ba%e6%95%a2%e8%ae%b2%e7%9c%9f%e8%af%9d%ef%bc%9f.md.html" id="文化：你所在的团队，有多少人敢讲真话？.md.html">文化：你所在的团队，有多少人敢讲真话？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/%e6%96%b9%e5%90%91%ef%bc%9a%e6%8a%80%e6%9c%af%e6%bc%94%e8%bf%9b%ef%bc%8c%e5%88%b0%e5%ba%95%e8%af%a5%e6%80%8e%e4%b9%88%e6%80%9d%e8%80%83%e6%9c%aa%e6%9d%a5%ef%bc%9f.md.html" id="方向：技术演进，到底该怎么思考未来？.md.html">方向：技术演进，到底该怎么思考未来？.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/%e6%9e%b6%e6%9e%84%ef%bc%9a%e6%9e%b6%e6%9e%84%e5%b8%88%e5%8f%aa%e6%98%af%e4%b8%aa%e8%a7%92%e8%89%b2%ef%bc%8c%e4%b8%8d%e6%98%af%e4%b8%aa%e5%b2%97%e4%bd%8d.md.html" id="架构：架构师只是个角色，不是个岗位.md.html">架构：架构师只是个角色，不是个岗位.md.html</a>
</li>
<li>
<a class="menu-item" href="/%e4%b8%93%e6%a0%8f/%e8%b6%85%e7%ba%a7%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%af%b9%e8%af%9d%e6%af%95%e7%8e%84/%e7%95%aa%e5%a4%96%ef%bc%9a%e4%b8%80%e4%bd%8d%e9%99%a9%e4%ba%9b%e6%b2%a1%e4%b8%8a%e5%be%97%e4%ba%86%e5%a4%a7%e5%ad%a6%e7%9a%84%e9%9d%92%e5%b9%b4%ef%bc%8c%e5%a6%82%e4%bd%95%e5%bc%80%e5%90%af%e8%ae%a1%e7%ae%97%e6%9c%ba%e5%be%81%e7%a8%8b.md.html" id="番外：一位险些没上得了大学的青年，如何开启计算机征程.md.html">番外：一位险些没上得了大学的青年，如何开启计算机征程.md.html</a>
</li>
<li><a href="/assets/捐赠.md.html">捐赠</a></li>
</ul>
</div>
</div>
<div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseleave="remove_inner()" onmouseover="add_inner()">
<div class="sidebar-toggle-inner"></div>
</div>
<div class="off-canvas-content">
<div class="columns">
<div class="column col-12 col-lg-12">
<div class="book-navbar">
<header class="navbar">
<section class="navbar-section">
<a onclick="open_sidebar()">
<i class="icon icon-menu"></i>
</a>
</section>
</header>
</div>
<div class="book-content" style="max-width: 960px; margin: 0 auto;
    overflow-x: auto;
    overflow-y: hidden;">
<div class="book-post">
<div align="center">因收到Google相关通知，网站将会择期关闭。<a href="https://lumendatabase.org/notices/44265620" target="_blank">相关通知内容</a><hr/></div>
<p align="center" id="tip"></p>
<h1 class="title" data-id="03 淘宝HSF：能让淘宝出重大故障的就那批人" id="title">03 淘宝HSF：能让淘宝出重大故障的就那批人</h1>
<div><blockquote>
<p>你好，我是叶芊。-
<strong>　</strong>-
上一讲我们聊到毕玄加入互联网公司的经历，为冲刺上市的彩票网站写新系统，因为自己不会C语言，也比不过腾讯那拨人，迫不得己成为了一名DBA。但因为突然的规定上市无望，他也走了。-
<strong>　</strong>-
后面发生的事情，说实话我只能说“很神奇”。-
<strong>　</strong>-
就他准备找新工作的时候，在没写简历没主动面试的情况下，居然又有一根橄榄枝神奇地伸了过来，然后在一场很神奇的面试后，他进了淘宝，结果第一个项目就神奇地差点把淘宝搞挂了……-
<strong>　</strong>-
到底发生了什么？我们马上开聊。</p>
</blockquote>
<p><strong>　</strong>-
<strong>极客时间：</strong>2007年底你就去阿里了，当时你是怎么进去的？</p>
<p><strong>毕玄：</strong>也是博客，我到上海工作是因为写博客，换到阿里很大原因也是这个，当时我在网上写了OSGi<a href="http://www.blogjava.net/BlueDavy/archive/2009/04/28/267968.html" target="_blank">那份文档</a>，OpenDoc，那个时候可流行开放性的文档。</p>
<p><strong>极客时间：</strong>这篇文档影响力很大，你写了多久？</p>
<p><strong>毕玄：</strong>一点点积累的，前前后后可能有半年多。</p>
<p><strong>极客时间：</strong>半年？这么久？</p>
<p><strong>毕玄：</strong>对，就写了那篇东西，写了之后技术圈的关注确实比较大，最早我们觉得产品化的基础可能是基于OSGi做，因为Eclipse那个时候已经是Java的垄断IDE了，而Eclipse的底层是OSGi。</p>
<p>当时Eclipse把OSGi把插件化的整个体系讲得，你如果听一下思想都会觉得太完美了，而且有Eclipse展示，相当于有了落地，还不光是一个概念，所以大家都觉得哇这是革命性的，基于这个抽象有可能做成产品，只是后来论证了一些东西，不是这样。所以当时OSGi在国内的关注度非常大，加上又没有文章，我写了第一个，很多人可能就因为这个知道了我。</p>
<p><strong>极客时间：</strong>那个思想是什么，可以具体讲讲吗？</p>
<p><strong>毕玄：</strong>从业务上讲，以前做整套系统想做成产品，产品化的核心思路是复用，但你不大可能把所有东西都做了，那最好的方式肯定是插件，A、B如果有不同的需求，我做个插件，插在原来的上面做扩展就好了。</p>
<p>而Eclipse是完全基于插件体系的，在里面<strong>如果一个功能没有，你装一个插件就有了，然后插件还可以扩展，你想跟别人的不一样，改一下代码就可以，还只用改部分</strong>。我们觉得这是一个完美的思路，把很复杂的东西抽象掉，做插件、做扩展。</p>
<p>其实到今天为止，所有的扩展型系统仍然是这么构建的。只不过OSGi可能太复杂了，但它的思想其实被用在了所有系统上，现在想产品化的公司，面对复杂系统，还是插件、扩展点的套路。</p>
<p>我们当时觉得这个方向是有可能的，Eclipse也给我们展现了一个完美实践，所以我们说应该研究下来，然后我也比较感兴趣，也觉得这个东西应该就是灵丹妙药。中国又没资料，就开始自己研究了，加上我确实比较喜欢写文章，写上瘾了，就有了那篇非常长的文章。</p>
<p><strong>极客时间：</strong>所以你写出影响力之后，你是怎么去淘宝的？像以前一样有人看到你的文档被联系过去的？</p>
<p><strong>毕玄：</strong>写完之后，有个人叫曹晓钢，他做了一个网站叫满江红，以前很多人会用，包括我们搞Java那帮人，那篇文档放在了网站上，可能中国学习OSGi的人都看过了，所以我跟晓钢就非常熟了。</p>
<p>当时比较凑巧，刚好我准备找工作的时候，晓钢就问我要不要考虑下淘宝。因为那个时候他的一个朋友刚刚加入淘宝，那个朋友就是菲青。因为菲青中国朋友比较少，很幸运晓钢就是他的其中一个，菲青刚刚加入淘宝在招人，也找不到别人，就问晓刚能不能推荐几个，就这样我被推荐给了淘宝。</p>
<p>然后我就到杭州面试，说实话那个时候我们不觉得淘宝名声很大，虽然有一定名声，因为它刚刚打败eBay，听肯定都听过，但觉得好像也没啥。出名的是老马。因为马云在前一年上了创业的节目，在那个节目里风格非常犀利，圈粉无数，那我觉得很好啊，就到淘宝面试。</p>
<p><img alt="图片" src="assets/cc6d4ff901ae4a43ba02d3d6b83f23c7.jpg"/></p>
<hr/>
<p><strong>　</strong></p>
<p><strong>极客时间：</strong>你被推荐过去之后，然后就顺利进去了？</p>
<p><strong>毕玄：</strong>没有，进淘宝很狗血的。当时晓钢还问我面的咋样，我说我觉得不咋样。</p>
<p>面我的第一个是黄裳，淘宝比较老的一个工程师现在蘑菇街的联合创始人，黄裳第一轮，菲青第二轮，第三轮是马钰。</p>
<p>那个时候黄裳问我很多问题，我都不知道，菲青问我，我也很多都不知道，马钰问的时候我就更懵，因为他是带搜索团队的，问很多算法，算法我不懂，他让我做道题，也没做出来。后来我就说你们到底是怎么让我通过面试的（笑）。</p>
<p>但是最后很神奇的是，等面试结束的时候，马钰居然问我要不要考虑一下加入他的团队，我都震惊了，我是来面菲青的团队，然后马钰说你要不要来我们这。当时我想，啊？我题都没做出来，你们为什么让我加入？这什么团队。所以很搞笑的。</p>
<p>最后当时淘宝整个软件技术部的老大空闻面我，空闻说你前一年不是在做数据库吗，现在为什么面的是Java工程师？空闻简直震惊了。反正很神奇的，我就这么加入了淘宝。</p>
<p><strong>极客时间：</strong>所以你到底是怎么通过面试的？时机原因吗？</p>
<p><strong>毕玄：</strong>后来我们一帮当时加入的人都开玩笑说，当时的淘宝估计是你只要投简历，就会招你，根本就没什么面试流程，就是个形式。<strong>这可能真的就是运气，但很多公司都这样。</strong></p>
<p>因为07年愿意来淘宝的人非常少，包括我们去校招，淘宝绝对是阿里集团里最后一个被选择的。到后来我们才有了很多的要求，淘宝是09年经历的大规模发展，整个架构做了演进，就会有很多要求，比如希望你做过大型系统。</p>
<p>这像我们07年进来的这批人就废了，应该是进不了淘宝的，会被碾压，做过大型系统？没见过，并发量上十万的都没见过，更不用说其他非常非常多的要求了。阿里后来招的人，实践经验简直能亮瞎眼，本科就已经非常厉害了，不用说像硕士、博士，但这是阿里很正常。</p>
<p><strong>极客时间：</strong>除了你说的运气，应该也有你写OSGi文章的原因吧？</p>
<p><strong>毕玄：</strong>应该有，后来我跟黄裳他们都说，你们招我，八成是因为OSGi吧。因为他们面试问的很多跟淘宝当时用的整个技术体系相关，淘宝当时又要做服务化，他们觉得这些你是不懂，OSGi你懂啊。但是问那个，他们就不知道我回答的怎么样，因为说实话我答的对还是不对，他们也不知道，只是觉得你有一个点是非常专业的，所以也可以（招进来）。但肯定不是因为我对淘宝多了解。</p>
<p><img alt="图片" src="assets/a12d81e5229c4605b55ba645f86b6645.jpg"/></p>
<hr/>
<p><strong>　</strong></p>
<p><strong>极客时间：</strong>好，我们接着你进淘宝之后的经历聊，你是一进去淘宝就开始做HSF了？</p>
<p><strong>毕玄：</strong>对，因为OSGi是一个偏服务化的东西，淘宝当年最重要的策略就是做服务化的架构演进，只有我是有这个背景的，所以进来之后，我就很自然地负责做这个东西。</p>
<p>但问题是，其实我也没做过，而且我们那帮人都没做过大规模的系统。我当时面临的第一个问题是技术选型，但我们根本不懂大型系统的技术选型挑战是非常大的。</p>
<p>以前我做政府，说实话随便选好了，更多的是看功能，<strong>但互联网更多的是看性能，功能对互联网来讲一点都不重要，越少越好，但性能是核心。</strong>所以我进来做的第一个技术选型后面就是一个巨大问题。</p>
<p><strong>极客时间：</strong>当时你做的选型可以多讲下吗？</p>
<p><strong>毕玄：</strong>我们做HSF，第一个要选的是通信框架，淘宝最早是WebLogic，菲青进来以后再换成了Jboss，我进来之后，因为菲青用JBoss，就决定也选Jboss的通信框架，把Jboss的老版本升级成新版本，顺带把通信也基于Jboss来做。这就是我们以前的选型（笑），所以后来我们会不断地教育新人，不要瞎来，有非常严格的规定。但以前互联网可能大家都不懂。</p>
<p>所以我们就选了，做了第一个版本上线，这是我面对的第一个大规模系统，日均访问量是200万。我以前做的10万不到，一下直接200万。那个时候<strong>所有人都会告诉你做一个网站，访问量10万、100万、1000万、1个亿、10个亿是不一样的，但没有人告诉你到底哪里不一样</strong>。</p>
<p>因为当时中国没有圈子，就很窄。但国外就有很多，QCon以前在国外的大会有很多互联网公司讲他们的技术，非常适合中国做互联网的那帮人，这点必须说QCon是真的打开了中国交流的圈子，所以我们以前都是看国外的东西。</p>
<p><strong>极客时间：</strong>所以你上线就出问题了？</p>
<p><strong>毕玄：</strong>没有，我当时上线以后很正常，所以突然间我就觉得，完全感受不到你们吹嘘的到底有多难嘛，你们是不是在忽悠我啊。我就信心爆棚了，决定不要上这种不那么重要的系统，因为当时上的系统是给阿里的客服小二用的，出问题相对还好。</p>
<p>我们就决定直接上阿里最重要的系统，交易系统。当时交易系统日均访问量大概是1个亿左右，相当于从200万到1个亿的跨越。结果上线的当天就出问题了。</p>
<p>当时发布的时候，大家都去千岛湖Outing了，就留下我和黄裳俩人，因为大家觉得应该也不会有什么问题，所以你们俩就留下发布吧，那个时候发系统都是半夜，不是白天。我们俩半夜开始发系统，发完了以后回去睡觉了。</p>
<p>一大早我就接到监控的电话，说整个淘宝现在很诡异，也说不出来哪里诡异，好像比平时慢一点，就是这个描述。</p>
<p><img alt="图片" src="assets/5b8bc2d34631471f84897b5ba7a9a3f0.jpg"/></p>
<hr/>
<p><strong>　</strong></p>
<p><strong>极客时间：</strong>接到监控的电话，你们就赶紧去公司查问题了？查了多久？</p>
<p><strong>毕玄：</strong>当年不像现在处理故障有一套专业的流程，而且要求响应非常非常快。当时我们觉得都无所谓，我和黄裳就去公司查，从早上查到晚上。所以后来我们在内部分享的时候都说，按我们当年处理故障的状态，都被阿里开除无数次了（笑），因为现在你必须立刻回滚掉，但当时我们俩觉得，不要回滚，先让我们查一下问题再说。</p>
<p>关键是我们从早上查到晚上都没查出问题在哪，但晚上的时候已经非常严重了，淘宝已经快打不开了，支付宝那边已经快挂了。我们俩也抗不住了，猜想八成就是HSF，虽然业务代码也改了，但换的核心就是这里，所以我们就把HSF回滚掉了，换成了原来的方式，一切恢复了。</p>
<p>然后我就悲剧了，这不用说压力就非常大了，那个时候我入职4个月，刚过试用期。</p>
<p><strong>极客时间：</strong>有没有转正？</p>
<p><strong>毕玄：</strong>已经转正了，但也压力很大，毕竟出了很严重的问题，而且就我一个人做这个系统。我就下来开始仔细回顾整个系统，慢慢查，但因为已经回滚了，也不纠结啥了。后来我们就发现了只是一行代码。</p>
<p><strong>极客时间：</strong>查了多久？</p>
<p><strong>毕玄：</strong>可能查了一两个星期。</p>
<p><strong>极客时间：</strong>两星期？不会很焦虑吗？</p>
<p><strong>毕玄：</strong>心态都还好，我可能觉得不管怎么样，反正先查出问题，其他的后面再说，而且不至于说我出了这个故障就被开掉了，这菲青肯定还会给我机会。但下一次压力可能就真的很大了，因为下一次说实话是不能出问题的，再出问题我觉得我自己也不好意思呆下去了（笑）。</p>
<p><strong>极客时间：</strong>刚转正就出现了这么大的故障，可能你属于比较冷静的。</p>
<p><strong>毕玄：</strong>我觉得看得开就好了。</p>
<p>因为我们后来发现有些人会想太多，比如做一件事情，就想着我要通过这个事获得什么，那八成是会做的乱七八糟，出了故障就想会不会被处罚，对晋升、奖金有没有影响，老想这些，那肯定没法做了。如果你什么都不想，先搞定它，剩下的事情等搞定再想也不迟。关键是，你现在想也没有用，你想不会改变任何东西，先安心干好你的活不就好了。</p>
<p><strong>极客时间：</strong>面对重大事件，你的这种心态，你觉得和之前自己做项目的各种坎坷经历有关吗？</p>
<p><strong>毕玄：</strong>那我可能高中就是，高中考大学不就是重大挫折嘛。因为我们高中是全省能排前几的，尤其我那个班，可以认为是超级重点班，只要能进那个班，基本都能上重点大学。当时我们每届都有奥赛金牌之类的，上一届还有省状元。</p>
<p>但我觉得这是个接受问题，因为我中考进我们班的时候是正数第8，但高中第一次考试，我就已经二十几名了。</p>
<p><strong>极客时间：</strong>二十几名之后你是选择接受，不是说“不行，我得整回去”？</p>
<p><strong>毕玄：</strong>你当然会努力，<strong>但努力一两次之后，你就会发现你得接受</strong>。因为我的几个好朋友，成绩非常非常好，但他们一点都不努力的，根本不读书，上课听一下，下课从来都在玩游戏，但考试每次都能考前几名。所以我说这是接受，很多人可能接受不了，觉得好像很怎么样。</p>
<p>就像我的好朋友，他高中一直考第一名，高考的时候全校都在看他有没有机会得省状元，最后他稍微有点失常，但应该是全省前十，就去清华了，后来我去清华找他聊天，他就说他终于懂了，我们高中的时候是多么痛苦。</p>
<p><strong>极客时间：</strong>他也像你们高中一样，发现自己学不过别人？</p>
<p><strong>毕玄：</strong>对，因为他进清华，第一次考试就是班上最后10名，他一看别人成绩这么好，就变得非常努力，每天早上7点就去图书馆学习，一直学到晚上。但即使这样，他一直都在后20名。</p>
<p><strong>极客时间：</strong>可能他也需要适当接受。</p>
<p><strong>毕玄：</strong>对，他就接受了，因为他看到前几名也是那样，跟他高中一样，也不怎么读书（笑）。</p>
<p>所以是心态，以前我们总说“但行好事，莫问前程”，当然面对重大问题的时候另外有抗压性的问题。</p>
<p>但抗压很难训练，我总不能给你造个故障，这对公司影响太大了，到底怎么训练面对这种重大问题，一个人的反应是什么。当然阿里后来有很多故障演练，你也不知道那个故障是真的还是假的，会故意出现一些，真假混合，就看你的反应。我们确实会发现不是所有人都适合的。</p>
<p><strong>极客时间：</strong>面对故障，不是所有人都适合抗压，那有没有人因为这个离开了？</p>
<p><strong>毕玄：</strong>也会有的，但不多。因为说实话，真正要面对这种压力的人。</p>
<p><strong>极客时间：</strong>人都是很少？如果能让你去做这么大的系统，他一定是经过检验的。</p>
<p><strong>毕玄：</strong>对就是少，你说对了。<strong>真的让淘宝整个网站出严重故障的人，说实话也就那批人。</strong></p>
<p>那批人，很多都能接受是因为觉得就算出故障然后被开掉了，那又怎么样，我还是能找到一个工作，而且不会差，就会觉得无所谓了，有啥好纠结的。说实话，很多人担心还是因为不够自信，害怕如果被开掉，可能就怎么样了。但是不害怕的都是那批，大不了就开掉，这就是最差的结果，这我都能接受，那我还怕什么。</p>
<p><strong>极客时间：</strong>这是当年，有点好奇现在呢，能让淘宝出重大故障的人？</p>
<p><strong>毕玄：</strong>现在就不好说了。因为公司大了，出故障的影响面不一样，你现在出故障可能是真的会受到一些处罚。但以前没有处罚，以前尽管号称有，但也不会多严重，因为我们也确实被处罚过，包括绩效等等会受影响，反正大家看得开。</p>
<p><strong>　</strong></p>
<h2 id="水友讨论区">水友讨论区</h2>
<p>今天我们主要聊的是毕玄进淘宝，以及做第一段专业领域的系统设计的故事，不知道有没有引发你的一点思考。</p>
<p>之前在知乎搜毕玄，在一个不那么正经的帖下面找到了他相当正经的一段发言：</p>
<p><img alt="图片" src="assets/933da65b324b4bd9a86606b41939dc2d.jpg"/></p>
<p>当时我还将信将疑，但在今天了解了他07年的淘宝面试经历后，疑虑打消了，可能当年那波公司都有一段这样尴尬的时间，之后应该也会有。</p>
<p>进淘宝之后，毕玄做的HSF上第一个系统大获成功，于是这名热血青年信心满满上了1亿日均访问量的交易系统，结果被故障狠狠教训了一把，差点达成进厂就被裁的成就，但他表示稳住心态，先安心干好活，没有什么好纠结的。</p>
<p>不知道你对今天的对谈最感兴趣的是什么，照例是自由讨论环节：</p>
<ul>
<li>OSGi的插件化思路，你是怎么理解的？在哪些系统里感受到这种设计思路吗？</li>
<li>工作中你出现过严重的故障吗？影响如何？当时自己怎么处理的呢？</li>
</ul>
<p>欢迎留言参与讨论，留言区是匿名的，所以欢迎自爆，也欢迎马赛克人名爆别人的料，毕竟独乐乐不如众乐乐，让大家一起围观引以为戒:)</p>
<p>我们下一讲会继续毕玄在淘宝的经历聊，下一讲见。</p>
<h3 id="拓展阅读">拓展阅读</h3>
<p>1. 这是一扇<a href="https://time.geekbang.org/column/article/576305" target="_blank">传送门</a>，关于毕玄做HSF的复盘，我们后面单独有一讲，聊一聊他对这次故障的深刻反思，以及之后怎么才能顺利做成事的参考经验。</p>
<p>2. 如果你对阿里的技术演进感兴趣，可以看《淘宝技术这十年》。</p>
<p>3. <a href="http://skm.zoomquiet.top/data/20071017224730/index.html" target="_blank">满江红</a>网站还在，首页也能看到OSGi那篇文章（毕玄网名Bluedavy），但链接失效了，如果感兴趣可以看看毕玄博客里的这篇：<a href="http://mp.weixin.qq.com/mp/appmsg/show?__biz=MjM5MzYzMzkyMQ==&amp;appmsgid=10000079&amp;itemidx=1&amp;sign=373f615a85f99c257dc59e0a38265d61&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1645579244919&amp;sharer_shareid=cfcd208495d565ef66e7dff9f98764da#wechat_redirect" target="_blank">说说OSGi</a>。</p>
<p>4. 如果你对用OSGi做服务框架的思路感兴趣，当年毕玄也写了一系列思考：-
<a href="http://www.blogjava.net/BlueDavy/archive/2008/01/02/172259.html" target="_blank">服务框架的要素的blog</a>-
<a href="http://www.blogjava.net/BlueDavy/archive/2008/01/09/173773.html" target="_blank">基于OSGi实现服务框架的分析</a>-
<a href="http://www.blogjava.net/BlueDavy/archive/2008/01/14/175054.html" target="_blank">基于OSGi实现分布式服务框架历程(一)</a>-
<a href="http://www.blogjava.net/BlueDavy/archive/2008/01/18/176309.html" target="_blank">基于OSGi实现分布式服务框架历程(二)</a>-
<a href="http://www.blogjava.net/BlueDavy/archive/2008/01/21/176765.html" target="_blank">基于OSGi实现分布式服务框架历程(三)</a>-
<a href="http://www.blogjava.net/BlueDavy/archive/2008/01/22/176873.html" target="_blank">基于OSGi实现分布式服务框架历程(四)</a>-
<a href="http://www.blogjava.net/BlueDavy/archive/2008/01/24/177533.html" target="_blank">分析分布式服务框架</a></p>
</div>
</div>
<div>
<div id="prePage" style="float: left">
</div>
<div id="nextPage" style="float: right">
</div>
</div>
</div>
</div>
</div>
<div class="copyright">
<hr>
<p>© 2019 - 2023 <a href="/cdn-cgi/l/email-protection#4e222222777a7f7f7e790e29232f2722602d2123" target="_blank">Liangliang Lee</a>.
                    Powered by <a href="https://github.com/gin-gonic/gin" target="_blank">gin</a> and <a href="https://github.com/kaiiiz/hexo-theme-book" target="_blank">hexo-theme-book</a>.</p>
</hr></div>
</div>
<a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9357b4395ebb4394',t:'MTc0NTUxOTc2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-NPSEEVD756"></script>
<script src="/static/index.js"></script>
</head></html>